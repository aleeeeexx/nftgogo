{"version":3,"sources":["webpack:///./src/components/AreaPicker/index.vue","webpack:///./src/components/AreaPicker/index.vue?71be","webpack:///./src/api/save-data.ts","webpack:///./src/pages/save-data/index.vue?7734","webpack:///./src/api/resources.ts","webpack:///./src/utils/validate.ts","webpack:///./src/pages/save-data/index.vue","webpack:///./src/pages/save-data/index.vue?71ea","webpack:///./src/components/AreaPicker/index.vue?f751"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_6","_hoisted_7","_defineComponent","props","visible","type","Boolean","default","values","Array","emits","setup","__props","_a","emit","active","computed","length","show","ref","close","change","index","select","item","watchEffect","value","_ctx","_cache","_component_van_icon","_resolveComponent","_component_van_cell","_component_van_action_sheet","_openBlock","_createBlock","$event","onClose","_withCtx","_createElementVNode","_createElementBlock","_Fragment","_renderList","_normalizeClass","border","_unref","code","onClick","_toDisplayString","name","_createCommentVNode","_createVNode","size","content","title","_createSlots","_","fn","undefined","__exports__","saveCustomerData","data","request","url","method","res","result","saveAdviceContent","getActivityCity","getModuleOneList","cityName","params","getProvince","getCity","province","getProject","city","getHouse","project","getHome","building","upload","file","axios","create","timeout","headers","post","validateMobile","test","Promise","resolve","reject","_pushScopeId","style","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_popScopeId","router","useRouter","route","useRoute","console","log","window","location","href","formState","reactive","customerName","customerMobile","provinceCode","query","provinceName","_b","cityCode","_c","_d","_e","_f","routeType","refferalSource","routeId","referrerId","selectCityShow","titles","provinces","getProvinceFun","regions","clickSelectCity","push","splice","last","onSubmit","Toast","fail","String","error_1","customerId","success","setTimeout","path","_component_van_loading","_component_van_image","_component_van_field","src","loading","maxlength","modelValue","modelModifiers","trim","placeholder","AreaPicker","onChange","onSelect"],"mappings":"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","file":"js/SaveDataIndex.835ccc28.js","sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createSlots as _createSlots, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"area-picker-container\" }\nconst _hoisted_2 = { class: \"titles\" }\nconst _hoisted_3 = { class: \"title\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { class: \"list-container\" }\nconst _hoisted_7 = [\"onClick\"]\n\nexport type PickerItem = { name: string; code: string }\nexport interface Values extends PickerItem {\n  content: PickerItem[]\n}\nimport { ref, watchEffect, computed, PropType } from 'vue'\n\nexport default _defineComponent({\n  props: {\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  values: {\n    type: Array as PropType<Values[]>,\n    default() {\n      return []\n    }\n  }\n},\n  emits: ['update:visible', 'change', 'select'],\n  setup(__props, { emit }) {\n\nconst props = __props\n\n\nconst active = computed(() => props.values?.length - 1)\nconst show = ref(false)\n\nconst close = () => {\n  emit('update:visible', false)\n}\nconst change = (index: number) => {\n  emit('change', index, props.values)\n}\nconst select = (item: PickerItem) => {\n  emit('select', item)\n}\n\nwatchEffect(() => {\n  show.value = props.visible\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_icon = _resolveComponent(\"van-icon\")!\n  const _component_van_cell = _resolveComponent(\"van-cell\")!\n  const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\")!\n\n  return (_openBlock(), _createBlock(_component_van_action_sheet, {\n    show: show.value,\n    \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => (show.value = $event)),\n    onClose: close\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.values, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"tab\", { border: _unref(active) === index }]),\n                key: item.code,\n                onClick: ($event: any) => (change(index))\n              }, [\n                (_unref(active) >= index)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(item.name), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 10, _hoisted_4))\n            }), 128))\n          ]),\n          _createVNode(_component_van_icon, {\n            name: \"cross\",\n            size: \"24px\",\n            onClick: close\n          })\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.values[_unref(active)].content, (item) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"body\",\n              onClick: ($event: any) => (select(item)),\n              key: item.code\n            }, [\n              _createVNode(_component_van_cell, {\n                title: item.name\n              }, _createSlots({ _: 2 }, [\n                (item.code === __props.values[_unref(active)].code)\n                  ? {\n                      name: \"right-icon\",\n                      fn: _withCtx(() => [\n                        _createVNode(_component_van_icon, { name: \"success\" })\n                      ])\n                    }\n                  : undefined\n              ]), 1032, [\"title\"])\n            ], 8, _hoisted_7))\n          }), 128))\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"show\"]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=bb675266&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import request from '@/utils/request'\nimport * as url from './url'\n\n// 保存客户留资信息\nexport interface ISAVEDATATYPE {\n  customerName: string\n  customerMobile: string\n  provinceCode: string\n  provinceName: string\n  cityCode: string\n  cityName: string\n  routeType: string\n  routeId: string\n  city: string\n  refferalSource: string\n  referrerId: string | undefined\n}\nexport const saveCustomerData = async (data: ISAVEDATATYPE) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/customer/leaveInfo`,\n    method: 'post',\n    data\n  })\n  return res.result\n}\n\n// 保存客户留资咨询内容\nexport interface IADVICETYPE {\n  fixtureStatus?: string | number\n  adviceContent?: string | number\n  otherInfo?: string | number\n  customerId: string | number\n}\nexport const saveAdviceContent = async (data: IADVICETYPE) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/customer/adviceContent`,\n    method: 'post',\n    data\n  })\n  return res.result\n}\n\nexport interface IOUPAICITYLIST {\n  cityCode: string\n  cityName: string\n  id: string | number\n}\nexport interface ICITYLIST {\n  cityCode: string\n  cityName: string\n}\ninterface IACTIVITYTYPE {\n  modlue1CityList: ICITYLIST[]\n  modlue2CityList: ICITYLIST[]\n  oppeinCityList: IOUPAICITYLIST[]\n}\n// 加载活动数据\nexport const getActivityCity = async () => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/lanternActivity/api/oppein/list`,\n    method: 'get'\n  })\n  return res.result as IACTIVITYTYPE\n}\n\nexport interface IMODULETYPE {\n  id: number\n  url: string\n}\n// 加载模块1数据\nexport const getModuleOneList = async (cityName: string) => {\n  const res = await request(\n    {\n      url: `${url.VUE_APP_DIANA_URL}/lanternActivity/api/front/goods/list`,\n      method: 'get',\n      params: {\n        cityName\n      }\n    },\n    false\n  )\n  return res.result as IMODULETYPE[]\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=fae630be&lang=scss&scoped=true\"","import * as url from './url'\nimport request from '@/utils/request'\nimport axios from 'axios'\nexport const getProvince = () => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/region/province`,\n    method: 'GET'\n  })\n}\n\nexport const getCity = (province: string) => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/region/city`,\n    method: 'GET',\n    params: { province }\n  })\n}\nexport const getProject = (city: string) => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/resource/project`,\n    method: 'GET',\n    params: { city }\n  })\n}\n\nexport const getHouse = (project: string) => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/resource/building`,\n    method: 'GET',\n    params: { project }\n  })\n}\n\nexport const getHome = (building: string) => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/resource/house`,\n    method: 'GET',\n    params: { building }\n  })\n}\n\nexport const upload = (file: Object) => {\n  return axios\n    .create({\n      // 超时时间 1 分钟\n      timeout: 60000,\n      headers: {\n        'Content-Type': 'multipart/form-data;'\n      }\n    })\n    .post(`${url.VUE_APP_UPLOAD_URL}`, file)\n}\n","// 检查手机号\nexport const validateMobile = (value: string) => {\n  if (!value) {\n    return Promise.reject('手机号不能为空')\n  }\n  if (!/^1[3456789]\\d{9}$/.test(value)) {\n    return Promise.reject('请输入正确的手机号')\n  }\n  return Promise.resolve()\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-fae630be\")\nconst _hoisted_1 = { style: {\"padding-top\":\"1px\"} }\nconst _hoisted_2 = { class: \"info-container\" }\nconst _hoisted_3 = { class: \"horizontal-start\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"item-label\" }, \"房屋城市\", -1)\nconst _hoisted_5 = {\n  key: 0,\n  class: \"item-info\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"item-info grey\"\n}\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"item-select\" }, null, -1)\nconst _hoisted_8 = { class: \"con-item\" }\nconst _hoisted_9 = { class: \"horizontal-start\" }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"item-label\" }, \"姓名\", -1)\nconst _hoisted_11 = { class: \"item-input\" }\nconst _hoisted_12 = { class: \"con-item\" }\nconst _hoisted_13 = { class: \"horizontal-start\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"item-label\" }, \"手机\", -1)\nconst _hoisted_15 = { class: \"item-input phone-input\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"height\":\"40px\"} }, null, -1)\n_popScopeId()\n\nimport { reactive, ref } from 'vue'\nimport AreaPicker from '@/components/AreaPicker/index.vue'\nimport type { PickerItem, Values } from '@/components/AreaPicker/index.vue'\nimport { getProvince, getCity } from '@/api/resources'\nimport { useRouter, useRoute } from 'vue-router'\nimport { validateMobile } from '@/utils/validate'\nimport { Toast } from 'vant'\nimport { saveCustomerData } from '@/api/save-data'\nimport type { ISAVEDATATYPE } from '@/api/save-data'\n\nexport default _defineComponent({\n  setup(__props) {\n\nconst router = useRouter()\nconst route = useRoute()\n\nconsole.log('地址：', window.location.href)\n\nconst formState = reactive<ISAVEDATATYPE>({\n  customerName: '',\n  customerMobile: '',\n  provinceCode: route.query?.provinceCode as string,\n  provinceName: route.query?.provinceName as string,\n  cityCode: route.query?.cityCode as string,\n  cityName: route.query?.cityName as string,\n  city: ((route.query?.provinceName as string) + route.query?.cityName) as string,\n  routeType: route.query.routeType as string, // 1:商城首页 2:商品详情页 3:活动详情页\n  refferalSource: route.query.routeType === '3' ? 'ACTIVITY' : 'MALL',\n  routeId: route.query.routeId as string, // 商详页进入 传spuId\n  referrerId: (route.query.referrerId as string) || undefined // 转介人id\n})\n\nconst selectCityShow = ref(false)\n// 省市区级联选择\nconst titles = ref<Values[]>([])\nconst provinces = ref<PickerItem[]>([])\n\nconst getProvinceFun = async () => {\n  const res = await getProvince()\n  provinces.value = res.result.regions\n}\n\n// 选择城市\nconst clickSelectCity = () => {\n  selectCityShow.value = true\n  if (!titles.value.length) {\n    titles.value.push({\n      name: '请选择省份',\n      code: '-1',\n      content: provinces.value\n    })\n  }\n}\nconst change = (index: number, value: Values[]) => {\n  //只保留index个项目\n  value.splice(index + 1)\n}\nconst select = async (item: { name: string; code: string }) => {\n  // 修改最后一项 添加新的一项\n  const last = titles.value.length - 1\n  titles.value[last].name = item.name\n  titles.value[last].code = item.code\n  if (last === 0) {\n    const res = await getCity(item.code)\n    titles.value.push({\n      name: '请选择城市',\n      code: '-1',\n      content: res.result?.regions\n    })\n  }\n  if (last === 1) {\n    selectCityShow.value = false\n    formState.provinceCode = titles.value[0].code\n    formState.provinceName = titles.value[0].name\n    formState.cityCode = titles.value[1].code\n    formState.cityName = titles.value[1].name\n    formState.city = titles.value[0].name + titles.value[1].name\n  }\n}\n\nconst onSubmit = async () => {\n  if (!formState.city) {\n    Toast.fail('请选择房屋城市')\n    return\n  }\n  if (!formState.customerName) {\n    Toast.fail('请输入姓名')\n    return\n  }\n  if (!formState.customerMobile) {\n    Toast.fail('请输入手机号')\n    return\n  }\n\n  try {\n    await validateMobile(formState.customerMobile)\n  } catch (error) {\n    Toast.fail(String(error))\n    return\n  }\n\n  const customerId = await saveCustomerData(formState)\n  Toast.success('预约成功')\n  setTimeout(() => {\n    router.push({\n      path: '/save-data-success',\n      query: {\n        customerId,\n        routeType: formState.routeType\n      }\n    })\n  }, 1500)\n}\n\n// 获取省份列表\ngetProvinceFun()\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_loading = _resolveComponent(\"van-loading\")!\n  const _component_van_image = _resolveComponent(\"van-image\")!\n  const _component_van_field = _resolveComponent(\"van-field\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_van_image, {\n        src: \"https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2022/07/18/6ae5ffc1-388b-4b93-860b-c595585040a2.png\",\n        class: \"top-image\"\n      }, {\n        loading: _withCtx(() => [\n          _createVNode(_component_van_loading, {\n            type: \"spinner\",\n            size: \"20\"\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"con-item\",\n        onClick: clickSelectCity\n      }, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          (_unref(formState).city)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_unref(formState).city), 1))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"请选择房屋城市\"))\n        ]),\n        _hoisted_7\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"div\", _hoisted_9, [\n          _hoisted_10,\n          _createElementVNode(\"div\", _hoisted_11, [\n            _createVNode(_component_van_field, {\n              maxlength: 4,\n              modelValue: _unref(formState).customerName,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_unref(formState).customerName = $event)),\n              modelModifiers: { trim: true },\n              placeholder: \"请输入\"\n            }, null, 8, [\"modelValue\"])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_12, [\n        _createElementVNode(\"div\", _hoisted_13, [\n          _hoisted_14,\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createVNode(_component_van_field, {\n              maxlength: 11,\n              type: \"number\",\n              modelValue: _unref(formState).customerMobile,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_unref(formState).customerMobile = $event)),\n              modelModifiers: { trim: true },\n              placeholder: \"仅官方可见，请放心填写\"\n            }, null, 8, [\"modelValue\"])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"submit-btn\",\n        onClick: onSubmit\n      }, \"立即预约\")\n    ]),\n    _createVNode(_component_van_image, {\n      src: \"https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2022/02/22/8ab1dd8b-f019-42b9-8eee-aebffe37a0e9.png\",\n      \"lazy-load\": \"\",\n      class: \"bottom-image\"\n    }, {\n      loading: _withCtx(() => [\n        _createVNode(_component_van_loading, {\n          type: \"spinner\",\n          size: \"20\"\n        })\n      ]),\n      _: 1\n    }),\n    _hoisted_16,\n    _createVNode(AreaPicker, {\n      visible: selectCityShow.value,\n      \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => (selectCityShow.value = $event)),\n      values: titles.value,\n      onChange: change,\n      onSelect: select\n    }, null, 8, [\"visible\", \"values\"])\n  ], 64))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=fae630be&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/aleeeeex/Desktop/web3/Start-ups/nftgogo/front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fae630be\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=bb675266&lang=scss\""],"sourceRoot":""}