(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SampleRoomCloseRoom"],{"159b":function(e,t,c){var n=c("da84"),o=c("fdbc"),a=c("17c2"),r=c("9112");for(var l in o){var u=n[l],i=u&&u.prototype;if(i&&i.forEach!==a)try{r(i,"forEach",a)}catch(d){i.forEach=a}}},"17c2":function(e,t,c){"use strict";var n=c("b727").forEach,o=c("a640"),a=o("forEach");e.exports=a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},2073:function(e,t,c){"use strict";c.r(t);c("d81d"),c("4de4"),c("a4d3"),c("e01a"),c("159b"),c("caad"),c("2532"),c("a434");var n=c("9ab4"),o=c("7a23"),a=c("dd03"),r=c("9793"),l=c("75e6"),u=c("626a"),i=c("417e"),d=c("5502"),s=c("511e"),b=c("6c02");Object(o["pushScopeId"])("data-v-842c1620");var m={style:{"padding-top":"1px"}},j=Object(o["createElementVNode"])("span",null,"验收空间",-1),O={class:"pancel"},f={class:"left"},v={class:"right"},p={key:0,class:"status van-hairline--top"},h=Object(o["createElementVNode"])("div",{class:"left"},null,-1),V={class:"right"},k=Object(o["createTextVNode"])("无问题"),N=["src"],x=Object(o["createTextVNode"])("有问题"),C=["src"],E={key:1,class:"info van-hairline--top"},g=Object(o["createElementVNode"])("div",{class:"label"},[Object(o["createTextVNode"])("问题记录"),Object(o["createElementVNode"])("span",{class:"des"})],-1),w={key:2,class:"album"},B=Object(o["createElementVNode"])("div",{class:"label"},"现场图片",-1),y={class:""},A={class:"foot"},U=Object(o["createTextVNode"])("保存"),_={class:"VanDialog"},D={class:"input"},S={class:"status van-hairline--top"},R=Object(o["createElementVNode"])("div",{class:"left"},"当前状态",-1),T={class:"right"},z=Object(o["createTextVNode"])("无问题"),I=["src"],q=Object(o["createTextVNode"])("有问题"),F=["src"];Object(o["popScopeId"])();var J=Object(o["defineComponent"])({setup:function(e){var t,J=this,L=c("af02"),G=c("0405"),H=Object(b["e"])(),K=Object(d["b"])(),M=Object(b["d"])(),P=M.query.id,Q=Object(o["ref"])([]),W=Object(o["computed"])((function(){var e;return null===(e=K.state.SampleRoomClose)||void 0===e?void 0:e.item})),X=Object(o["computed"])((function(){return K.state.SampleRoomClose.viewFlag})),Y=Object(o["computed"])((function(){return K.state.SampleRoomClose.item})).value.map((function(e){return{item:e,checkBox:0,status:1,description:"",imageUrlArray:[]}})),Z=Object(o["computed"])((function(){return K.state.SampleRoomClose.project}));document.title=Z.value;var $=Object(o["computed"])((function(){var e=Q.value.filter((function(e){return e.checkBox&&0===e.status}));return e.every((function(e){return e.imageUrlArray.length&&e.description}))})),ee=Object(o["computed"])((function(){return K.state.SampleRoomClose.spaceVoList.filter((function(e){return e.project===Z.value}))}));"false"===M.query.isCreate?Q.value=Y:(Q.value=null===(t=ee.value[0])||void 0===t?void 0:t.itemVo,Q.value.forEach((function(e){e.disable=!!e.checkBox})));var te=l["a"].Component,ce=Object(o["ref"])(!1),ne=function(){ce.value=!0},oe=Object(o["computed"])((function(){return le.value?"#5D8AA3":"#eaeaea"})),ae=function(){return!!le.value&&(Q.value.some((function(e){return e.item===le.value}))?(u["a"].fail("名称不能重复"),!1):(ce.value=!1,void Q.value.push({item:le.value,checkBox:1,status:re.value,description:"",imageUrlArray:[]})))},re=Object(o["ref"])(0),le=Object(o["ref"])(""),ue=Object(o["ref"])(!1),ie=function(){return Object(n["b"])(J,void 0,void 0,(function(){var e;return Object(n["c"])(this,(function(t){switch(t.label){case 0:e=Q.value.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{checkBox:+e.checkBox,project:Z.value,sampleRoomId:+P,type:1})})),ue.value=!0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(s["f"])(e)];case 2:return t.sent(),ue.value=!1,u["a"].success("提交成功"),H.back(),[3,4];case 3:return t.sent(),ue.value=!1,[3,4];case 4:return[2]}}))}))},de=function(e,t){e.checkBox?l["a"].confirm({message:"是否删除对此部位的验收内容",confirmButtonColor:"#5D8AA3"}).then((function(){W.value.includes(e.item)?(e.checkBox=0,e.status=0,e.description="",e.imageUrlArray=[]):Q.value.splice(t,1)})):e.checkBox=1};return function(e,t){var c=Object(o["resolveComponent"])("van-radio"),n=Object(o["resolveComponent"])("van-radio-group"),l=Object(o["resolveComponent"])("van-field"),u=Object(o["resolveComponent"])("van-cell-group"),d=Object(o["resolveComponent"])("van-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",{class:"title"},[j,Object(o["createElementVNode"])("span",{style:{color:"#5d8aa3","font-size":"14px"},onClick:ne},"添加")]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Q.value,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"room-item",key:t},[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",f,Object(o["toDisplayString"])(e.item),1),Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(Object(o["unref"])(i["a"]),{name:"b",disabled:e.disable&&!!Object(o["unref"])(X),"checked-color":"#5D8AA3",shape:"square",modelValue:e.checkBox,onClick:function(c){return de(e,t)}},null,8,["disabled","modelValue","onClick"])])]),e.checkBox?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[h,Object(o["createElementVNode"])("div",V,[Object(o["createVNode"])(n,{modelValue:e.status,"onUpdate:modelValue":function(t){return e.status=t},direction:"horizontal",disabled:e.disable&&!!Object(o["unref"])(X)},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{name:1,"checked-color":"#5D8AA3"},{icon:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(o["unref"])(L):Object(o["unref"])(G)},null,8,N)]})),default:Object(o["withCtx"])((function(){return[k]})),_:1}),Object(o["createVNode"])(c,{name:0,"checked-color":"#5D8AA3"},{icon:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(o["unref"])(L):Object(o["unref"])(G)},null,8,C)]})),default:Object(o["withCtx"])((function(){return[x]})),_:1})]})),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])])):Object(o["createCommentVNode"])("",!0),e.checkBox&&0===e.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,[g,Object(o["createVNode"])(u,{inset:"",style:{"margin-left":"-1px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:e.description,"onUpdate:modelValue":function(t){return e.description=t},rows:"1",autosize:"",type:"textarea",maxlength:"100",placeholder:"请输入",disabled:e.disable&&!!Object(o["unref"])(X),"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","disabled"])]})),_:2},1024)])):Object(o["createCommentVNode"])("",!0),e.checkBox&&0===e.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[B,Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(r["a"],{modelValue:e.imageUrlArray,"onUpdate:modelValue":function(t){return e.imageUrlArray=t},disabled:e.disable&&!!Object(o["unref"])(X)},null,8,["modelValue","onUpdate:modelValue","disabled"])])])):Object(o["createCommentVNode"])("",!0)])})),128))]),Object(o["createVNode"])(a["a"],null,{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",A,[Object(o["createVNode"])(d,{type:"primary",block:"",color:"#7AB439",loading:ue.value,onClick:ie,disabled:!Object(o["unref"])($)},{default:Object(o["withCtx"])((function(){return[U]})),_:1},8,["loading","disabled"])])]})),_:1}),Object(o["createVNode"])(Object(o["unref"])(te),{show:ce.value,"show-cancel-button":"",onConfirm:ae,onCancel:t[2]||(t[2]=function(e){return ce.value=!1}),confirmButtonColor:Object(o["unref"])(oe)},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",D,[Object(o["createVNode"])(l,{modelValue:le.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return le.value=e}),label:"",placeholder:"请输入添加部位名称"},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",S,[R,Object(o["createElementVNode"])("div",T,[Object(o["createVNode"])(n,{modelValue:re.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return re.value=e}),direction:"horizontal"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{name:1,"checked-color":"#5D8AA3"},{icon:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(o["unref"])(L):Object(o["unref"])(G)},null,8,I)]})),default:Object(o["withCtx"])((function(){return[z]})),_:1}),Object(o["createVNode"])(c,{name:0,"checked-color":"#5D8AA3"},{icon:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(o["unref"])(L):Object(o["unref"])(G)},null,8,F)]})),default:Object(o["withCtx"])((function(){return[q]})),_:1})]})),_:1},8,["modelValue"])])])])]})),_:1},8,["show","confirmButtonColor"])],64)}}});c("a459");J.__scopeId="data-v-842c1620";t["default"]=J},a3bc:function(e,t,c){},a459:function(e,t,c){"use strict";c("a3bc")},a640:function(e,t,c){"use strict";var n=c("d039");e.exports=function(e,t){var c=[][e];return!!c&&n((function(){c.call(null,t||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=SampleRoomCloseRoom.e5d2dba7.js.map