{"version":3,"sources":["webpack:///./src/constant/customer.ts","webpack:///./src/components/FixBar/index.vue?844c","webpack:///./src/pages/Customer/editMember.vue?d0b3","webpack:///./src/pages/Customer/editMember.vue","webpack:///./src/pages/Customer/editMember.vue?dcfc","webpack:///./src/components/FixBar/index.vue","webpack:///./src/components/FixBar/index.vue?6cdb","webpack:///./src/api/Customer.ts"],"names":["CustomerRoleList","0","1","2","3","ReferralStatusList","4","5","CustomerSource","OrderStatus","6","7","8","_pushScopeId","_hoisted_1","key","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_createTextVNode","_popScopeId","_defineComponent","setup","__props","router","useRouter","route","useRoute","pageType","query","document","title","add","edit","error","reactive","name","mobile","formData","customerRole","checkName","val","includes","checkMobile","test","houseCode","onSubmit","data","console","log","_a","checkCustomerExist","result","Dialog","confirm","message","confirmButtonText","cancelButtonText","closeOnClickOverlay","className","then","saveHouseMember","Toast","success","setTimeout","go","catch","isCanSubmint","computed","showIdentityPicker","ref","identityColumns","Object","keys","forEach","value","push","identityOnConfirm","index","_ctx","_cache","_component_van_field","_resolveComponent","_component_van_button","_component_van_picker","_component_van_popup","_openBlock","_createElementBlock","_Fragment","_unref","_createCommentVNode","_toDisplayString","_createVNode","modelValue","$event","modelModifiers","trim","maxlength","placeholder","type","onClick","_normalizeClass","noSelect","FixBar","content","_withCtx","disabled","default","_","show","round","position","columns","onConfirm","__exports__","props","bgColor","String","height","style","_normalizeStyle","_renderSlot","$slots","getCustomerCityProvince","request","url","method","res","getIntentionList","saveReferralTag","saveFollowLabel","deleteHouseMember","params","getCustomerOrder","getBindOrderList","getCustomerReferralOrder","customerId","pageSize","page","getCustomerPublicPage","records","getCustomerDetail","id","flag","getCustomerReferral","updateCustomerDetail","getReferralFollowRecord","UpdateFollow","AgreeFollow","AssignOrReassign","getExternalUser","externalUserId","getVisitor","saveVisitor","getCluesByMobile","getHouseByMobile","updateIntentionType","approveTerminate","referralBindOrder","getPaList","canFollowCounts","currentDeliveryPlanId","followingCounts"],"mappings":"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","file":"js/chunk-1f657d0f.5856c422.js","sourcesContent":["interface STATUS {\n  [key: string]: string\n}\n\n// 客户身份\nexport const CustomerRoleList: STATUS = {\n  0: '未知',\n  1: '产权人',\n  2: '家属',\n  3: '租客'\n}\n\n// 转介商机状态\nexport const ReferralStatusList: STATUS = {\n  0: '无效',\n  1: '已提交',\n  2: '跟进中',\n  3: '有效',\n  4: '已成交',\n  5: '未成交'\n}\n\nexport const CustomerSource: STATUS = {\n  0: '个人转介',\n  1: '新交付',\n  2: '客户留资'\n}\n\nexport const OrderStatus: STATUS = {\n  0: '待付款',\n  1: '已部分付款',\n  2: '已付全款',\n  3: '已交付',\n  4: '已收货',\n  5: '已验收',\n  6: '已完成',\n  7: '已关闭',\n  8: '已取消'\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=f7cfe444&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./editMember.vue?vue&type=style&index=0&id=d67f0f98&lang=scss&scoped=true\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-d67f0f98\")\nconst _hoisted_1 = {\n  key: 0,\n  class: \"info-show-title\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"left\" }, \"客户信息\", -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { class: \"info-form-select-container\" }\nconst _hoisted_5 = { class: \"info-form-select\" }\nconst _hoisted_6 = { class: \"label\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", null, \"姓名\", -1)\nconst _hoisted_8 = { class: \"error\" }\nconst _hoisted_9 = { class: \"item\" }\nconst _hoisted_10 = { class: \"info-form-select\" }\nconst _hoisted_11 = { class: \"label\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", null, \"手机号\", -1)\nconst _hoisted_13 = { class: \"error\" }\nconst _hoisted_14 = { class: \"item\" }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"身份\", -1)\nconst _hoisted_16 = { class: \"item\" }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"select\" }, \"选择\", -1)\nconst _hoisted_18 = { class: \"operate-bottom\" }\nconst _hoisted_19 = /*#__PURE__*/_createTextVNode(\" 提交 \")\n_popScopeId()\n\nimport { ref, reactive, computed } from 'vue'\nimport { Toast, Dialog } from 'vant'\nimport { CustomerRoleList } from '@/constant/customer'\nimport { saveHouseMember, checkCustomerExist } from '@/api/Customer'\nimport FixBar from '@/components/FixBar/index.vue'\nimport { useRouter, useRoute } from 'vue-router'\n\nexport default _defineComponent({\n  setup(__props) {\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst pageType = route.query.pageType as string\ndocument.title = { add: '添加成员', edit: '编辑成员' }[pageType] as string\n\nconst error = reactive({\n  name: '',\n  mobile: ''\n})\nconst formData = reactive({\n  name: '',\n  mobile: '',\n  customerRole: 99\n})\nconst checkName = (val: string) => {\n  if (val.includes('先生') || val.includes('女士')) {\n    error.name = '请填写客户的实名信息'\n    return false\n  }\n  error.name = ''\n  return true\n}\nconst checkMobile = (val: string) => {\n  if (!/^1[3-9]\\d{9}$/.test(val)) {\n    error.mobile = '请输入正确的手机号'\n    return false\n  }\n  error.mobile = ''\n  return true\n}\nconst houseCode = route.query.houseCode\nconst onSubmit = async () => {\n  const data = { ...formData, houseCode }\n  await console.log('ssss', data)\n  const result = await checkCustomerExist(data)\n  if (result) {\n    Dialog.confirm({\n      message: `检测到系统存在此客户(${result.name || ''} ${\n        result.mobile || ''\n      })，是否将客户关联当前房屋？`,\n      confirmButtonText: '确定关联',\n      cancelButtonText: '暂不关联',\n      closeOnClickOverlay: true,\n      className: 'del-confirm-dialog'\n    })\n      .then(async () => {\n        await saveHouseMember(data)\n        Toast.success('保存成功')\n        setTimeout(() => {\n          router.go(-1)\n        }, 2000)\n      })\n      .catch(() => {})\n  } else {\n    Toast.success('保存成功')\n    setTimeout(() => {\n      router.go(-1)\n    }, 2000)\n  }\n}\nconst isCanSubmint = computed(() => {\n  return (\n    formData.name &&\n    formData.mobile &&\n    checkName(formData.name) &&\n    checkMobile(formData.mobile) &&\n    formData.customerRole !== 99\n  )\n})\n\nconst showIdentityPicker = ref(false)\nlet identityColumns = ref<string[]>([])\nObject.keys(CustomerRoleList).forEach(key => {\n  identityColumns.value.push(CustomerRoleList[key])\n})\nconst identityOnConfirm = (value: string, index: number) => {\n  showIdentityPicker.value = false\n  formData.customerRole = index\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_field = _resolveComponent(\"van-field\")!\n  const _component_van_button = _resolveComponent(\"van-button\")!\n  const _component_van_picker = _resolveComponent(\"van-picker\")!\n  const _component_van_popup = _resolveComponent(\"van-popup\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_unref(pageType) === 'edit')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_unref(error).name), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_9, [\n          _createVNode(_component_van_field, {\n            modelValue: _unref(formData).name,\n            \"onUpdate:modelValue\": [\n              _cache[0] || (_cache[0] = ($event: any) => (_unref(formData).name = $event)),\n              _cache[1] || (_cache[1] = ($event: any) => (checkName(_unref(formData).name)))\n            ],\n            modelModifiers: { trim: true },\n            maxlength: \"5\",\n            placeholder: \"请输入\"\n          }, null, 8, [\"modelValue\"])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _createElementVNode(\"div\", _hoisted_11, [\n          _hoisted_12,\n          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(_unref(error).mobile), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createVNode(_component_van_field, {\n            modelValue: _unref(formData).mobile,\n            \"onUpdate:modelValue\": [\n              _cache[2] || (_cache[2] = ($event: any) => (_unref(formData).mobile = $event)),\n              _cache[3] || (_cache[3] = ($event: any) => (checkMobile(_unref(formData).mobile)))\n            ],\n            modelModifiers: { trim: true },\n            type: \"number\",\n            maxlength: \"11\",\n            placeholder: \"请输入\"\n          }, null, 8, [\"modelValue\"])\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"info-form-select\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (showIdentityPicker.value = true))\n      }, [\n        _hoisted_15,\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"val\", {\n            noSelect: !_unref(formData).customerRole && _unref(formData).customerRole !== 0\n          }])\n          }, _toDisplayString(_unref(formData).customerRole || _unref(formData).customerRole === 0\n              ? _unref(CustomerRoleList)[_unref(formData).customerRole]\n              : '请选择'), 3),\n          _hoisted_17\n        ])\n      ])\n    ]),\n    _createVNode(FixBar, null, {\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_18, [\n          _createVNode(_component_van_button, {\n            class: \"operate-button\",\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (onSubmit())),\n            disabled: !_unref(isCanSubmint)\n          }, {\n            default: _withCtx(() => [\n              _hoisted_19\n            ]),\n            _: 1\n          }, 8, [\"disabled\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_van_popup, {\n      show: showIdentityPicker.value,\n      \"onUpdate:show\": _cache[6] || (_cache[6] = ($event: any) => (showIdentityPicker.value = $event)),\n      round: \"\",\n      position: \"bottom\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_van_picker, {\n          \"cancel-button-text\": \"\",\n          title: \"请选择身份\",\n          columns: _unref(identityColumns),\n          onConfirm: identityOnConfirm\n        }, null, 8, [\"columns\"])\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./editMember.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./editMember.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./editMember.vue?vue&type=style&index=0&id=d67f0f98&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/aleeeeex/Desktop/web3/Start-ups/nftgogo/front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d67f0f98\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderSlot as _renderSlot, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withScopeId as _withScopeId } from \"vue\"\n\n\n\nexport default _defineComponent({\n  props: {\n  bgColor: {\n    type: String,\n    default: '#f9f9f9'\n  },\n  height: {\n    type: String,\n    default: '19vw'\n  }\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: \"handler save-area\",\n      style: _normalizeStyle(`background: ${__props.bgColor};height: ${__props.height}`)\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: \"bar save-area\",\n      style: _normalizeStyle(`height: ${__props.height}`)\n    }, [\n      _renderSlot(_ctx.$slots, \"content\")\n    ], 4)\n  ], 64))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f7cfe444&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/aleeeeex/Desktop/web3/Start-ups/nftgogo/front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f7cfe444\"]])\n\nexport default __exports__","import request from '@/utils/request'\nimport * as url from './url'\n\n// 获取客户城市列表\nexport interface CityList {\n  code: string\n  name: string\n  cityList?: CityList[]\n}\nexport const getCustomerCityList = async () => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/resource/line/city`,\n    method: 'get'\n  })\n  return res.result as CityList[]\n}\nexport const getCustomerCityProvince = async () => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/resource/line/cityWithProvince`,\n    method: 'get'\n  })\n  return res.result as CityList[]\n}\nexport const getIntentionList = async () => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/commonConfig/list/configOption/referral`,\n    method: 'get'\n  })\n  return res.result\n}\nexport const saveReferralTag = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/tag/saveReferralTag`,\n    method: 'post',\n    data\n  })\n}\nexport const saveFollowLabel = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/tag/saveFollowLabel`,\n    method: 'post',\n    data\n  })\n}\nexport const checkCustomerExist = async (data: Object) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/customer/checkCustomerExist`,\n    method: 'post',\n    data\n  })\n  return res.result\n}\nexport const saveHouseMember = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/customer/saveHouseMember`,\n    method: 'post',\n    data\n  })\n}\nexport const deleteHouseMember = async (params: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/customer/deleteHouseMember`,\n    method: 'get',\n    params\n  })\n}\n// 订单，工具栏访客页\nexport const getCustomerOrder = async (params: Object) => {\n  const res = await request({\n    url: `${url.VUE_APP_BLACKSAM_URL}/admin/order/customerSystem/list`,\n    method: 'get',\n    params\n  })\n  return res.result\n}\n// 订单，线索关联订单\nexport const getBindOrderList = async (params: Object) => {\n  const res = await request({\n    // url: `http://10.39.68.64:8085/referral/pageOtherBindOrder`,\n    url: `${url.VUE_APP_DIANA_URL}/referral/pageOtherBindOrder`,\n    method: 'get',\n    // params: { referralId: '263778', mobile: '15996255019' }\n    params\n  })\n  return res.result\n}\n// 订单，客户详情页\nexport const getCustomerReferralOrder = async (customerId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/customerReferralOrderPage`,\n    method: 'get',\n    params: { customerId: customerId, pageSize: 100, page: 1 }\n  })\n  return res.result\n}\nexport const getReferralOrder = async (referralId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/referralOrderPage`,\n    method: 'get',\n    params: { referralId, pageSize: 100, page: 1 }\n  })\n  return res.result\n}\n\n// 获取客户分页数据\nexport interface CustomerlHistory {\n  belongProject: string\n  cityCode: string\n  cityName: string\n  id: number\n  referralId: number\n  name: string\n  customerSource: string | number\n  referralTime: string\n  mobile?: string\n}\nexport interface CustomerlHistoryList {\n  records: CustomerlHistory[]\n  current: number\n  pages: number\n}\nexport const getCustomerPublicPage = async (params: Object) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/customer/page`,\n    method: 'get',\n    params\n  })\n  const records: CustomerlHistoryList = res?.result\n  return records\n}\n\n// 获取客户详情数据\nexport interface HouseInfoType {\n  provinceCode: string\n  provinceName: string\n  cityCode: string\n  cityName: string\n  projectCode: string\n  projectName: string\n  buildingCode: string\n  buildingName: string\n  houseCode: string\n  houseName: string\n  customerRole: number\n  houseType: string\n  memberList: { [x: string]: string }[]\n}\nexport interface CustomerDetailType {\n  id: string\n  userId: string\n  mobile: string\n  name: string\n  cityCode: string\n  customerTag: string[]\n  customerHouse: HouseInfoType[]\n  status: number\n  followFlag: boolean | undefined\n}\nexport const getCustomerDetail = async (id: string, flag: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/customer/${id}`,\n    method: 'get',\n    params: { flag }\n  })\n  const result: CustomerDetailType = res?.result\n  return result\n}\n\n// 获取客户转介数据\nexport interface CustomerReferralType {\n  createdTime: string\n  customerSource: number\n  id: string\n  intentionDescription: string\n  intentionType: string\n  currentFollowerFlag: boolean\n  status: number\n  locked: number\n}\nexport const getCustomerReferral = async (id: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/${id}`,\n    method: 'get'\n  })\n  const result: CustomerReferralType[] = res?.result\n  return result\n}\n\n// 更新客户房屋信息\ninterface UpdateCustomerDetailType {\n  houseList: HouseInfoType[]\n  customerId: number | string\n}\nexport const updateCustomerDetail = async (data: UpdateCustomerDetailType) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/customer`,\n    method: 'put',\n    data\n  })\n}\n\n// 获取客户跟进记录\nexport interface RecordInfoType {\n  recordId: number\n  content: string\n  createdTime: string\n  followerMobile: string\n  followerName: string\n  orderInfo: {\n    categoryName: string\n    code: string\n    createdTime: string\n    finishPaidTime: string\n  }\n}\nexport interface FollowRecordType {\n  recordList: RecordInfoType[]\n  id: number\n  status: number\n  followerName: string\n  followerMobile: string\n  show: boolean\n  fold: boolean\n  followUpTagArray: string[]\n}\nexport const getReferralFollowRecord = async (customerId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/referralFollowRecord/${customerId}`,\n    method: 'get'\n  })\n  const result: FollowRecordType[] = res?.result\n  return result\n}\n\n// 确认客户是否有效、添加跟进记录、延期、结束客户跟进\ninterface UpdateFollowType {\n  type: number\n  customerId?: number\n  referralId?: number | string\n  valid?: number\n  content?: string\n}\nexport const UpdateFollow = async (data: UpdateFollowType) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral`,\n    method: 'put',\n    data\n  })\n}\n// 是否同意跟进\nexport const AgreeFollow = async (data: object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/agreeFollowOrNot`,\n    method: 'post',\n    data\n  })\n}\n// 批量指派、改派\ninterface AssignOrReassignType {\n  type: number\n  customerIdList: number[]\n  followerMobile: string\n  followerId: number\n  deliveryPlanId?: number\n  followerName?: string\n}\nexport const AssignOrReassign = async (data: AssignOrReassignType) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/assignOrReassign`,\n    method: 'put',\n    data\n  })\n}\n\n/* 访客 */\n// 企微外部联系人信息\nexport const getExternalUser = async (externalUserId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/qyWeixin/getExternalUser`,\n    method: 'get',\n    params: { externalUserId }\n  })\n  return res.result\n}\n\n// 查询访客\nexport const getVisitor = async (externalUserId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/visitor/getVisitor`,\n    method: 'get',\n    params: { externalUserId }\n  })\n  return res.result\n}\n\n// 保存访客\nexport const saveVisitor = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/visitor/saveVisitor`,\n    method: 'post',\n    data\n  })\n}\n\n// 手机号查询线索\nexport const getCluesByMobile = async (mobile: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/visitor/getReferralList`,\n    method: 'get',\n    params: { mobile }\n  })\n  return res.result\n}\n\n// 手机号查询房屋\nexport const getHouseByMobile = async (mobile: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/visitor/getHouseList`,\n    method: 'get',\n    params: { mobile }\n  })\n  return res.result\n}\n\n// 修改客户意向类型\nexport const updateIntentionType = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/updateIntentionType`,\n    method: 'post',\n    data\n  })\n}\n\n// 结束跟进复核\nexport const approveTerminate = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/terminateApprove`,\n    method: 'post',\n    data\n  })\n}\n\n// 转介绑定订单\nexport const referralBindOrder = async (data: Object) => {\n  return await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/bindOrder`,\n    method: 'post',\n    data\n  })\n}\n/* 被指派员工PA列表 */\nexport const getPaList = async (customerId: number, params: object) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/assign/pa/list/${customerId}`,\n    method: 'get',\n    params\n  })\n  return res.result\n}\nexport interface IDASHBOARD {\n  totalCounts: string\n  warningCounts: number\n}\n/* dashbord可跟进客户统计—公池*/\nexport const canFollowCounts = async (currentDeliveryPlanId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/counts/canFollowCounts`,\n    method: 'GET',\n    params: {\n      currentDeliveryPlanId\n    }\n  })\n  const result: IDASHBOARD = res?.result\n  return result\n}\n\n/* dashbord跟进中客户统计—公池*/\nexport const followingCounts = async (currentDeliveryPlanId: string) => {\n  const res = await request({\n    url: `${url.VUE_APP_DIANA_URL}/api/referral/counts/followingCounts`,\n    method: 'GET',\n    params: {\n      currentDeliveryPlanId\n    }\n  })\n  const result: IDASHBOARD = res?.result\n  return result\n}\n"],"sourceRoot":""}