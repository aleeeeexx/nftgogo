(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SampleRoomCloseHandle"],{"06a0":function(e,t,c){},"97bc":function(e,t,c){"use strict";c("06a0")},f3ea:function(e,t,c){"use strict";c.r(t);c("4de4"),c("a4d3"),c("e01a"),c("d81d");var n=c("9ab4"),l=c("7a23"),o=c("dd03"),a=c("482f"),r=c("626a"),i=c("417e"),d=c("9793"),s=c("5502"),u=c("511e"),b=c("6c02");Object(l["pushScopeId"])("data-v-c660a096");var m={style:{padding:"1px 0px"}},j={class:"content"},O={class:"question"},v={class:"left"},p={class:"title"},f={class:"name"},V=["onClick"],g={class:"number"},N={class:"pancel van-hairline--top"},k=Object(l["createElementVNode"])("div",{class:"left"},"已经完成整改",-1),h={class:"right"},E={key:0,class:"infoT"},y=Object(l["createElementVNode"])("div",{class:"label"},[Object(l["createTextVNode"])("整改记录"),Object(l["createElementVNode"])("span",{class:"des"})],-1),C={key:1,class:"album"},D=Object(l["createElementVNode"])("div",{class:"label"},"整改后图片",-1),w={class:""},x={class:"content"},B={class:"question"},U={class:"title"},A={class:"name"},I={class:"pancel van-hairline--top"},S=Object(l["createElementVNode"])("div",{class:"left"},"当前状态",-1),_={class:"right"},T=Object(l["createTextVNode"])("已还"),q=["src"],R=Object(l["createTextVNode"])("待还"),F=["src"],L={class:"foot"},z=Object(l["createTextVNode"])("提交");Object(l["popScopeId"])();var J=Object(l["defineComponent"])({setup:function(e){var t=this,J=c("af02"),H=c("0405"),G=Object(b["e"])(),K=Object(b["d"])(),M=K.query.id,P=Object(l["computed"])((function(){var e=Y.value.filter((function(e){return e.isDone}));return console.log(e),e.every((function(e){return e.description&&e.resultImg.length}))})),Q=function(e){e&&Object(a["a"])(e)},W=Object(s["b"])(),X=Object(l["ref"])([]),Y=Object(l["ref"])([]),Z=Object(l["computed"])((function(){return W.state.SampleRoomClose.problemVoList}));X.value=Z.value.filter((function(e){return 2===e.type})).map((function(e){var t,c;return Object(n["a"])(Object(n["a"])({},e),{isDone:null!==(c=null===(t=e.result)||void 0===t?void 0:t.status)&&void 0!==c?c:0})})),Y.value=Z.value.filter((function(e){return 1===e.type})).map((function(e){var t,c,l,o,a,r,i;return Object(n["a"])(Object(n["a"])({},e),{result:null!==(c=null===(t=e.result)||void 0===t?void 0:t.description)&&void 0!==c?c:"",isDone:null!==(o=null===(l=e.result)||void 0===l?void 0:l.status)&&void 0!==o?o:0,resultImg:null!==(r=null===(a=e.result)||void 0===a?void 0:a.imageUrlArray)&&void 0!==r?r:[],disable:!!(null===(i=e.result)||void 0===i?void 0:i.status)})})),console.log(X.value,Y.value);var $=Object(l["ref"])(!1),ee=function(){return Object(n["b"])(t,void 0,void 0,(function(){var e,t,c;return Object(n["c"])(this,(function(l){switch(l.label){case 0:e=Y.value.map((function(e){return{type:e.type,recordId:e.id,sampleRoomId:+M,description:e.result,status:e.isDone?1:0,imageUrlArray:e.resultImg}})),t=X.value.map((function(e){return{type:2,recordId:e.id,sampleRoomId:+M,status:e.isDone}})),c=Object(n["d"])(Object(n["d"])([],e),t),l.label=1;case 1:return l.trys.push([1,3,,4]),$.value=!0,[4,Object(u["b"])(c)];case 2:return l.sent(),r["a"].success("提交成功"),$.value=!1,G.back(),[3,4];case 3:return l.sent(),$.value=!1,[3,4];case 4:return[2]}}))}))};return function(e,t){var c=Object(l["resolveComponent"])("van-image"),n=Object(l["resolveComponent"])("van-field"),a=Object(l["resolveComponent"])("van-cell-group"),r=Object(l["resolveComponent"])("van-radio"),s=Object(l["resolveComponent"])("van-radio-group"),u=Object(l["resolveComponent"])("van-button");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",m,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Y.value,(function(e,t){var o,r,s;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"card",key:t},[Object(l["createElementVNode"])("div",j,[Object(l["createElementVNode"])("div",O,[Object(l["createElementVNode"])("div",v,[Object(l["createElementVNode"])("div",p,Object(l["toDisplayString"])(e.project)+"/"+Object(l["toDisplayString"])(e.item),1),Object(l["createElementVNode"])("div",f,Object(l["toDisplayString"])(e.description),1)]),Object(l["createElementVNode"])("div",{class:"image",onClick:function(t){return Q(e.imageUrlArray)}},[Object(l["createElementVNode"])("div",g,Object(l["toDisplayString"])(((null===(o=e.imageUrlArray)||void 0===o?void 0:o.length)||0)>1?"+"+(null===(r=e.imageUrlArray)||void 0===r?void 0:r.length):""),1),(null===(s=e.imageUrlArray)||void 0===s?void 0:s.length)?(Object(l["openBlock"])(),Object(l["createBlock"])(c,{key:0,class:"src",src:e.imageUrlArray[0]},null,8,["src"])):Object(l["createCommentVNode"])("",!0)],8,V)]),Object(l["createElementVNode"])("div",N,[k,Object(l["createElementVNode"])("div",h,[Object(l["createVNode"])(Object(l["unref"])(i["a"]),{disabled:e.disable,name:"b",modelValue:e.isDone,"onUpdate:modelValue":function(t){return e.isDone=t},"checked-color":"#5D8AA3",shape:"square"},null,8,["disabled","modelValue","onUpdate:modelValue"])])]),e.isDone?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",E,[y,Object(l["createVNode"])(a,{inset:"",style:{"margin-left":"-1px"}},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(n,{disabled:e.disable,rows:"1",autosize:"",type:"textarea",maxlength:"100",placeholder:"请输入","show-word-limit":"",modelValue:e.result,"onUpdate:modelValue":function(t){return e.result=t}},null,8,["disabled","modelValue","onUpdate:modelValue"])]})),_:2},1024)])):Object(l["createCommentVNode"])("",!0),e.isDone?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",C,[D,Object(l["createElementVNode"])("div",w,[Object(l["createVNode"])(d["a"],{modelValue:e.resultImg,"onUpdate:modelValue":function(t){return e.resultImg=t},disabled:e.disable},null,8,["modelValue","onUpdate:modelValue","disabled"])])])):Object(l["createCommentVNode"])("",!0)])])})),128)),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(X.value,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"card",key:t},[Object(l["createElementVNode"])("div",x,[Object(l["createElementVNode"])("div",B,[Object(l["createElementVNode"])("div",U,Object(l["toDisplayString"])(e.project),1),Object(l["createElementVNode"])("div",A,"数量x"+Object(l["toDisplayString"])(e.num),1)])]),Object(l["createElementVNode"])("div",I,[S,Object(l["createElementVNode"])("div",_,[Object(l["createVNode"])(s,{direction:"horizontal",modelValue:e.isDone,"onUpdate:modelValue":function(t){return e.isDone=t}},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(r,{name:1,"checked-color":"#5D8AA3"},{icon:Object(l["withCtx"])((function(e){return[Object(l["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(l["unref"])(J):Object(l["unref"])(H)},null,8,q)]})),default:Object(l["withCtx"])((function(){return[T]})),_:1}),Object(l["createVNode"])(r,{name:0,"checked-color":"#5D8AA3"},{icon:Object(l["withCtx"])((function(e){return[Object(l["createElementVNode"])("img",{class:"img-icon",src:e.checked?Object(l["unref"])(J):Object(l["unref"])(H)},null,8,F)]})),default:Object(l["withCtx"])((function(){return[R]})),_:1})]})),_:2},1032,["modelValue","onUpdate:modelValue"])])])])})),128))]),Object(l["createVNode"])(o["a"],null,{content:Object(l["withCtx"])((function(){return[Object(l["createElementVNode"])("div",L,[Object(l["createVNode"])(u,{type:"primary",block:"",color:"#7AB439",loading:$.value,onClick:ee,disabled:!Object(l["unref"])(P)},{default:Object(l["withCtx"])((function(){return[z]})),_:1},8,["loading","disabled"])])]})),_:1})],64)}}});c("97bc");J.__scopeId="data-v-c660a096";t["default"]=J}}]);
//# sourceMappingURL=SampleRoomCloseHandle.402fa3fd.js.map