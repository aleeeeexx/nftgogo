(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SaveDataIndex"],{2234:function(e,t,n){"use strict";var c=n("7a23"),o={class:"area-picker-container"},r={class:"titles"},a={class:"title"},i=["onClick"],u={key:0},l={class:"list-container"},s=["onClick"],d=Object(c["defineComponent"])({props:{visible:{type:Boolean,default:!1},values:{type:Array,default:function(){return[]}}},emits:["update:visible","change","select"],setup:function(e,t){var n=t.emit,d=e,b=Object(c["computed"])((function(){var e;return(null===(e=d.values)||void 0===e?void 0:e.length)-1})),v=Object(c["ref"])(!1),m=function(){n("update:visible",!1)},f=function(e){n("change",e,d.values)},j=function(e){n("select",e)};return Object(c["watchEffect"])((function(){v.value=d.visible})),function(t,n){var d=Object(c["resolveComponent"])("van-icon"),O=Object(c["resolveComponent"])("van-cell"),p=Object(c["resolveComponent"])("van-action-sheet");return Object(c["openBlock"])(),Object(c["createBlock"])(p,{show:v.value,"onUpdate:show":n[0]||(n[0]=function(e){return v.value=e}),onClose:m},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",a,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.values,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["tab",{border:Object(c["unref"])(b)===t}]),key:e.code,onClick:function(e){return f(t)}},[Object(c["unref"])(b)>=t?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",u,Object(c["toDisplayString"])(e.name),1)):Object(c["createCommentVNode"])("",!0)],10,i)})),128))]),Object(c["createVNode"])(d,{name:"cross",size:"24px",onClick:m})]),Object(c["createElementVNode"])("div",l,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.values[Object(c["unref"])(b)].content,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"body",onClick:function(e){return j(t)},key:t.code},[Object(c["createVNode"])(O,{title:t.name},Object(c["createSlots"])({_:2},[t.code===e.values[Object(c["unref"])(b)].code?{name:"right-icon",fn:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{name:"success"})]}))}:void 0]),1032,["title"])],8,s)})),128))])])]})),_:1},8,["show"])}}});n("f993");const b=d;t["a"]=b},"4ae9":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var c=n("9ab4"),o=n("b32d"),r=n("4763"),a=function(e){return Object(c["b"])(void 0,void 0,void 0,(function(){var t;return Object(c["c"])(this,(function(n){switch(n.label){case 0:return[4,Object(o["a"])({url:r["b"]+"/api/customer/leaveInfo",method:"post",data:e})];case 1:return t=n.sent(),[2,t.result]}}))}))},i=function(e){return Object(c["b"])(void 0,void 0,void 0,(function(){var t;return Object(c["c"])(this,(function(n){switch(n.label){case 0:return[4,Object(o["a"])({url:r["b"]+"/api/customer/adviceContent",method:"post",data:e})];case 1:return t=n.sent(),[2,t.result]}}))}))},u=function(){return Object(c["b"])(void 0,void 0,void 0,(function(){var e;return Object(c["c"])(this,(function(t){switch(t.label){case 0:return[4,Object(o["a"])({url:r["b"]+"/lanternActivity/api/oppein/list",method:"get"})];case 1:return e=t.sent(),[2,e.result]}}))}))},l=function(e){return Object(c["b"])(void 0,void 0,void 0,(function(){var t;return Object(c["c"])(this,(function(n){switch(n.label){case 0:return[4,Object(o["a"])({url:r["b"]+"/lanternActivity/api/front/goods/list",method:"get",params:{cityName:e}},!1)];case 1:return t=n.sent(),[2,t.result]}}))}))}},"4bda":function(e,t,n){"use strict";n("58b1")},"58b1":function(e,t,n){},"7ab7":function(e,t,n){},c260:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return b}));var c=n("4763"),o=n("b32d"),r=n("bc3a"),a=n.n(r),i=function(){return Object(o["a"])({url:c["b"]+"/region/province",method:"GET"})},u=function(e){return Object(o["a"])({url:c["b"]+"/region/city",method:"GET",params:{province:e}})},l=function(e){return Object(o["a"])({url:c["b"]+"/resource/project",method:"GET",params:{city:e}})},s=function(e){return Object(o["a"])({url:c["b"]+"/resource/building",method:"GET",params:{project:e}})},d=function(e){return Object(o["a"])({url:c["b"]+"/resource/house",method:"GET",params:{building:e}})},b=function(e){return a.a.create({timeout:6e4,headers:{"Content-Type":"multipart/form-data;"}}).post(""+c["c"],e)}},f0b5:function(e,t,n){"use strict";n.r(t);var c=n("9ab4"),o=n("7a23"),r=n("2234"),a=n("c260"),i=n("6c02"),u=function(e){return e?/^1[3456789]\d{9}$/.test(e)?Promise.resolve():Promise.reject("请输入正确的手机号"):Promise.reject("手机号不能为空")},l=n("626a"),s=n("4ae9");Object(o["pushScopeId"])("data-v-fae630be");var d={style:{"padding-top":"1px"}},b={class:"info-container"},v={class:"horizontal-start"},m=Object(o["createElementVNode"])("div",{class:"item-label"},"房屋城市",-1),f={key:0,class:"item-info"},j={key:1,class:"item-info grey"},O=Object(o["createElementVNode"])("div",{class:"item-select"},null,-1),p={class:"con-item"},h={class:"horizontal-start"},y=Object(o["createElementVNode"])("div",{class:"item-label"},"姓名",-1),N={class:"item-input"},V={class:"con-item"},g={class:"horizontal-start"},k=Object(o["createElementVNode"])("div",{class:"item-label"},"手机",-1),E={class:"item-input phone-input"},C=Object(o["createElementVNode"])("div",{style:{height:"40px"}},null,-1);Object(o["popScopeId"])();var w=Object(o["defineComponent"])({setup:function(e){var t,n,w,B,T,I,q=this,x=Object(i["e"])(),z=Object(i["d"])();console.log("地址：",window.location.href);var S=Object(o["reactive"])({customerName:"",customerMobile:"",provinceCode:null===(t=z.query)||void 0===t?void 0:t.provinceCode,provinceName:null===(n=z.query)||void 0===n?void 0:n.provinceName,cityCode:null===(w=z.query)||void 0===w?void 0:w.cityCode,cityName:null===(B=z.query)||void 0===B?void 0:B.cityName,city:(null===(T=z.query)||void 0===T?void 0:T.provinceName)+(null===(I=z.query)||void 0===I?void 0:I.cityName),routeType:z.query.routeType,refferalSource:"3"===z.query.routeType?"ACTIVITY":"MALL",routeId:z.query.routeId,referrerId:z.query.referrerId||void 0}),M=Object(o["ref"])(!1),_=Object(o["ref"])([]),A=Object(o["ref"])([]),G=function(){return Object(c["b"])(q,void 0,void 0,(function(){var e;return Object(c["c"])(this,(function(t){switch(t.label){case 0:return[4,Object(a["e"])()];case 1:return e=t.sent(),A.value=e.result.regions,[2]}}))}))},L=function(){M.value=!0,_.value.length||_.value.push({name:"请选择省份",code:"-1",content:A.value})},U=function(e,t){t.splice(e+1)},D=function(e){return Object(c["b"])(q,void 0,void 0,(function(){var t,n,o;return Object(c["c"])(this,(function(c){switch(c.label){case 0:return t=_.value.length-1,_.value[t].name=e.name,_.value[t].code=e.code,0!==t?[3,2]:[4,Object(a["a"])(e.code)];case 1:n=c.sent(),_.value.push({name:"请选择城市",code:"-1",content:null===(o=n.result)||void 0===o?void 0:o.regions}),c.label=2;case 2:return 1===t&&(M.value=!1,S.provinceCode=_.value[0].code,S.provinceName=_.value[0].name,S.cityCode=_.value[1].code,S.cityName=_.value[1].name,S.city=_.value[0].name+_.value[1].name),[2]}}))}))},F=function(){return Object(c["b"])(q,void 0,void 0,(function(){var e,t;return Object(c["c"])(this,(function(n){switch(n.label){case 0:if(!S.city)return l["a"].fail("请选择房屋城市"),[2];if(!S.customerName)return l["a"].fail("请输入姓名"),[2];if(!S.customerMobile)return l["a"].fail("请输入手机号"),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,u(S.customerMobile)];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),l["a"].fail(String(e)),[2];case 4:return[4,Object(s["d"])(S)];case 5:return t=n.sent(),l["a"].success("预约成功"),setTimeout((function(){x.push({path:"/save-data-success",query:{customerId:t,routeType:S.routeType}})}),1500),[2]}}))}))};return G(),function(e,t){var n=Object(o["resolveComponent"])("van-loading"),c=Object(o["resolveComponent"])("van-image"),a=Object(o["resolveComponent"])("van-field");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(c,{src:"https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2022/07/18/6ae5ffc1-388b-4b93-860b-c595585040a2.png",class:"top-image"},{loading:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{type:"spinner",size:"20"})]})),_:1})]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",{class:"con-item",onClick:L},[Object(o["createElementVNode"])("div",v,[m,Object(o["unref"])(S).city?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,Object(o["toDisplayString"])(Object(o["unref"])(S).city),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",j,"请选择房屋城市"))]),O]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",h,[y,Object(o["createElementVNode"])("div",N,[Object(o["createVNode"])(a,{maxlength:4,modelValue:Object(o["unref"])(S).customerName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(o["unref"])(S).customerName=e}),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])])])]),Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("div",g,[k,Object(o["createElementVNode"])("div",E,[Object(o["createVNode"])(a,{maxlength:11,type:"number",modelValue:Object(o["unref"])(S).customerMobile,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(o["unref"])(S).customerMobile=e}),modelModifiers:{trim:!0},placeholder:"仅官方可见，请放心填写"},null,8,["modelValue"])])])]),Object(o["createElementVNode"])("div",{class:"submit-btn",onClick:F},"立即预约")]),Object(o["createVNode"])(c,{src:"https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2022/02/22/8ab1dd8b-f019-42b9-8eee-aebffe37a0e9.png","lazy-load":"",class:"bottom-image"},{loading:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{type:"spinner",size:"20"})]})),_:1}),C,Object(o["createVNode"])(r["a"],{visible:M.value,"onUpdate:visible":t[2]||(t[2]=function(e){return M.value=e}),values:_.value,onChange:U,onSelect:D},null,8,["visible","values"])],64)}}}),B=(n("4bda"),n("6b0d")),T=n.n(B);const I=T()(w,[["__scopeId","data-v-fae630be"]]);t["default"]=I},f993:function(e,t,n){"use strict";n("7ab7")}}]);
//# sourceMappingURL=SaveDataIndex.835ccc28.js.map