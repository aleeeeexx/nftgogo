{"version":3,"sources":["webpack:///./src/api/coupon.ts","webpack:///./src/pages/common/GetCoupon.vue","webpack:///./src/pages/common/GetCoupon.vue?9d20","webpack:///./src/pages/common/GetCoupon.vue?032b"],"names":["coupon","beiAnNo","request","url","method","couponInfo","_hoisted_1","style","_hoisted_2","class","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","key","_hoisted_10","_defineComponent","setup","__props","route","useRoute","console","log","query","show","ref","getCoupon","beianNo","_a","value","clickModal","e","stopPropagation","isWechat","computed","ua","navigator","userAgent","toLowerCase","indexOf","money","time","getInfo","info","result","discount","endTime","couponImg","bgUrl","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_toDisplayString","onClick","src","_createVNode","_unref","VanOverlay","$event","default","_withCtx","_","__exports__"],"mappings":"gMAEaA,EAAS,SAACC,GACrB,OAAOC,eAAQ,CACbC,IAAQA,OAAqB,iCAAiCF,EAC9DG,OAAQ,SAGCC,EAAa,WACxB,OAAOH,eAAQ,CACbC,IAAQA,OAAqB,kCAC7BC,OAAQ,SCRNE,EAAa,CAAEC,MAAO,CAAC,mBAAmB,UAAU,OAAS,UAC7DC,EAAa,CAAEC,MAAO,OACtBC,EAAa,CAAED,MAAO,SACtBE,EAA0BC,gCAAoB,OAAQ,CAAEL,MAAO,CAAC,YAAY,SAAW,KAAM,GAC7FM,EAA0BD,gCAAoB,MAAO,CAAEH,MAAO,OAAS,CAC9DG,gCAAoB,OAAQ,KAAM,YAC7C,GACEE,EAAa,CAAEL,MAAO,SACtBM,EAA0BH,gCAAoB,MAAO,CAAEH,MAAO,SAAW,aAAc,GACvFO,EAA0BJ,gCAAoB,MAAO,CAAEH,MAAO,OAAS,cAAe,GACtFQ,EAAa,CACjBC,IAAK,EACLT,MAAO,OAEHU,EAAc,CAClBD,IAAK,EACLT,MAAO,OASMW,+BAAiB,CAC9BC,MAAA,SAAMC,GAAN,WAEIC,EAAQC,iBACdC,QAAQC,IAAI,UAAWH,EAAMI,OAC7B,IAAMC,EAAOC,kBAAI,GACXC,EAAY,6D,+DAChB,SAAM9B,EAAOuB,EAAMI,MAAMI,U,cAAzBC,SACAJ,EAAKK,OAAQ,E,YAETC,EAAa,SAACC,GAClBA,EAAEC,mBAEEC,EAAWC,uBAAS,WACxB,IAAMC,EAAKC,UAAUC,UAAUC,cAC/B,OAAyC,IAAlCH,EAAGI,QAAQ,qBAEdC,EAAQf,iBAAI,GACZgB,EAAOhB,iBAAI,IACXiB,EAAU,6D,qEACD,SAAMzC,K,cAAb0C,EAAOf,SACbY,EAAMX,MAAQc,EAAKC,OAAOC,SAC1BJ,EAAKZ,MAAQc,EAAKC,OAAOE,Q,YAE3BJ,IACA,IAAMK,EACJ,uGAEIC,EACJ,mJAEF,OAAO,SAACC,EAAUC,GAChB,OAAQC,yBAAcC,gCAAoBC,cAAW,KAAM,CACzD7C,gCAAoB,MAAON,EAAY,CACrCM,gCAAoB,MAAOJ,EAAY,CACrCI,gCAAoB,MAAOF,EAAY,CACrCC,EACAC,gCAAoB,OAAQ,KAAM8C,6BAAiBd,EAAMX,OAAQ,KAEnEpB,EACAD,gCAAoB,MAAO,CACzBH,MAAO,MACPkD,QAAS7B,GACR,QACHlB,gCAAoB,MAAO,CACzBgD,IAAKR,EACL3C,MAAO,WAIboD,yBAAaC,mBAAOC,QAAa,CAC/BnC,KAAMA,EAAKK,MACX0B,QAASL,EAAO,KAAOA,EAAO,GAAK,SAACU,GAAgB,OAACpC,EAAKK,OAAQ,KACjE,CACDgC,QAASC,sBAAS,WAAM,OACtBtD,gCAAoB,MAAO,CACzBH,MAAO,UACPkD,QAASzB,GACR,CACDtB,gCAAoB,MAAOE,EAAY,CACrCC,EACAC,EACAJ,gCAAoB,MAAO,CACzBgD,IAAKT,EACL1C,MAAO,OAERqD,mBAAOzB,IACHkB,yBAAcC,gCAAoB,MAAOvC,EAAY,eACrDsC,yBAAcC,gCAAoB,MAAOrC,EAAa,4BAIjEgD,EAAG,GACF,EAAG,CAAC,UACN,Q,UCjGL,MAAMC,EAAc,EAEL,gB,2DCPf","file":"js/getCoupon.35fe8873.js","sourcesContent":["import * as url from './url'\nimport request from '@/utils/request'\nexport const coupon = (beiAnNo: string) => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/zhuangXiuBeiAnRefer/${beiAnNo}`,\n    method: 'GET'\n  })\n}\nexport const couponInfo = () => {\n  return request({\n    url: `${url.VUE_APP_DIANA_URL}/referral/getCouponReleaseBatch`,\n    method: 'GET'\n  })\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { style: {\"background-color\":\"#f2ffd7\",\"height\":\"100vh\"} }\nconst _hoisted_2 = { class: \"img\" }\nconst _hoisted_3 = { class: \"title\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-size\":\"30px\"} }, \"￥\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"des\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", null, \"*限指定商品\")\n], -1)\nconst _hoisted_6 = { class: \"modal\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"您已成功领取优惠券\", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"des\" }, \"请联系美居小助手使用\", -1)\nconst _hoisted_9 = {\n  key: 0,\n  class: \"des\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"des\"\n}\n\nimport { useRoute } from 'vue-router'\nimport { Overlay as VanOverlay } from 'vant'\nimport { ref, computed } from 'vue'\nimport { coupon, couponInfo } from '@/api/coupon'\n\n\nexport default _defineComponent({\n  setup(__props) {\n\nconst route = useRoute()\nconsole.log('query参数', route.query)\nconst show = ref(false)\nconst getCoupon = async () => {\n  await coupon(route.query.beianNo as string)\n  show.value = true\n}\nconst clickModal = (e: Event) => {\n  e.stopPropagation()\n}\nconst isWechat = computed(() => {\n  const ua = navigator.userAgent.toLowerCase()\n  return ua.indexOf('micromessenger') !== -1\n})\nconst money = ref(0)\nconst time = ref('')\nconst getInfo = async () => {\n  const info = await couponInfo()\n  money.value = info.result.discount\n  time.value = info.result.endTime\n}\ngetInfo()\nconst couponImg =\n  'https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2022/01/13/1dc4f2ca-168d-4f45-ba86-260b02ca44f9.png'\n\nconst bgUrl =\n  'https://black-pearl.oss-cn-shenzhen.aliyuncs.com/2021/12/09/6b3395c8-e91b-4e46-af62-46bad89f8ca8.png?x-oss-process=image/quality,q_80/format,jpg'\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"span\", null, _toDisplayString(money.value), 1)\n        ]),\n        _hoisted_5,\n        _createElementVNode(\"div\", {\n          class: \"btn\",\n          onClick: getCoupon\n        }, \"立即领取\"),\n        _createElementVNode(\"img\", {\n          src: bgUrl,\n          class: \"bg\"\n        })\n      ])\n    ]),\n    _createVNode(_unref(VanOverlay), {\n      show: show.value,\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (show.value = false))\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"overlay\",\n          onClick: clickModal\n        }, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _hoisted_8,\n            _createElementVNode(\"img\", {\n              src: couponImg,\n              class: \"qr\"\n            }),\n            (_unref(isWechat))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"长按识别，加微咨询\"))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"截图保存此二维码，进入微信识别\"))\n          ])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./GetCoupon.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GetCoupon.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GetCoupon.vue?vue&type=style&index=0&id=c3d8f47a&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GetCoupon.vue?vue&type=style&index=0&id=c3d8f47a&lang=scss\""],"sourceRoot":""}