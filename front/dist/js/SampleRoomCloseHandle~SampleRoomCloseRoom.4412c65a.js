(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SampleRoomCloseHandle~SampleRoomCloseRoom"],{"0405":function(e,t,a){e.exports=a.p+"img/radio-iconunchecked.1f05606a.svg"},2890:function(e,t,a){},"482f":function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var o,c=a("7a23"),i=a("f344"),r=a("c199"),n=a("1da4"),l=a("fe7e"),s=a("f691"),d=a("7e3e"),u=a("b1d2"),m=a("37b2"),b=a("4eda"),v=a("ad06"),p=a("5596"),f=a("e41f"),O=a("8405"),j=a("4a89"),g=a("cdd8"),h=a("44bf"),w=a("543e"),y=a("2bb1"),V=e=>Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2)),x=Object(l["a"])("image-preview")[1],N=Object(c["defineComponent"])({props:{src:String,show:Boolean,active:Number,minZoom:Object(s["d"])(s["f"]),maxZoom:Object(s["d"])(s["f"]),rootWidth:Object(s["d"])(Number),rootHeight:Object(s["d"])(Number)},emits:["scale","close"],setup(e,t){var a,o,i,r,n,l,{emit:s}=t,d=Object(c["reactive"])({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),u=Object(g["a"])(),m=Object(c["computed"])(()=>{var{rootWidth:t,rootHeight:a}=e,o=a/t;return d.imageRatio>o}),b=Object(c["computed"])(()=>{var{scale:e,moveX:t,moveY:a,moving:o,zooming:c}=d,i={transitionDuration:c||o?"0s":".3s"};if(1!==e){var r=t/e,n=a/e;i.transform="scale("+e+", "+e+") translate("+r+"px, "+n+"px)"}return i}),v=Object(c["computed"])(()=>{if(d.imageRatio){var{rootWidth:t,rootHeight:a}=e,o=m.value?a/d.imageRatio:t;return Math.max(0,(d.scale*o-t)/2)}return 0}),p=Object(c["computed"])(()=>{if(d.imageRatio){var{rootWidth:t,rootHeight:a}=e,o=m.value?a:t*d.imageRatio;return Math.max(0,(d.scale*o-a)/2)}return 0}),f=t=>{t=Object(O["c"])(t,+e.minZoom,+e.maxZoom),t!==d.scale&&(d.scale=t,s("scale",{scale:t,index:e.active}))},N=()=>{f(1),d.moveX=0,d.moveY=0},k=()=>{var e=d.scale>1?1:2;f(e),d.moveX=0,d.moveY=0},C=e=>{var{touches:t}=e,{offsetX:c}=u;u.start(e),a=d.moveX,o=d.moveY,l=Date.now(),d.moving=1===t.length&&1!==d.scale,d.zooming=2===t.length&&!c.value,d.zooming&&(i=d.scale,r=V(e.touches))},S=e=>{var{touches:t}=e;if(u.move(e),(d.moving||d.zooming)&&Object(j["e"])(e,!0),d.moving){var{deltaX:c,deltaY:n}=u,l=c.value+a,s=n.value+o;d.moveX=Object(O["c"])(l,-v.value,v.value),d.moveY=Object(O["c"])(s,-p.value,p.value)}if(d.zooming&&2===t.length){var m=V(t),b=i*m/r;f(b)}},z=()=>{var{offsetX:e,offsetY:t}=u,a=Date.now()-l,o=250,c=10;e.value<c&&t.value<c&&a<o&&(n?(clearTimeout(n),n=null,k()):n=setTimeout(()=>{s("close"),n=null},o))},B=e=>{var t=!1;(d.moving||d.zooming)&&(t=!0,d.moving&&a===d.moveX&&o===d.moveY&&(t=!1),e.touches.length||(d.zooming&&(d.moveX=Object(O["c"])(d.moveX,-v.value,v.value),d.moveY=Object(O["c"])(d.moveY,-p.value,p.value),d.zooming=!1),d.moving=!1,a=0,o=0,i=1,d.scale<1&&N())),Object(j["e"])(e,t),z(),u.reset()},I=e=>{var{naturalWidth:t,naturalHeight:a}=e.target;d.imageRatio=a/t};return Object(c["watch"])(()=>e.active,N),Object(c["watch"])(()=>e.show,e=>{e||N()}),()=>{var t={loading:()=>Object(c["createVNode"])(w["a"],{type:"spinner"},null)};return Object(c["createVNode"])(y["a"],{class:x("swipe-item"),onTouchstart:C,onTouchmove:S,onTouchend:B,onTouchcancel:B},{default:()=>[Object(c["createVNode"])(h["a"],{src:e.src,fit:"contain",class:x("image",{vertical:m.value}),style:b.value,onLoad:I},t)]})}}}),[k,C]=Object(l["a"])("image-preview"),S=["show","transition","overlayStyle","closeOnPopstate"],z={show:Boolean,loop:s["g"],images:Object(s["a"])(),minZoom:Object(s["c"])(1/3),maxZoom:Object(s["c"])(3),overlay:s["g"],closeable:Boolean,showIndex:s["g"],className:s["h"],closeIcon:Object(s["e"])("clear"),transition:String,beforeClose:Function,overlayStyle:Object,swipeDuration:Object(s["c"])(300),startPosition:Object(s["c"])(0),showIndicators:Boolean,closeOnPopstate:s["g"],closeIconPosition:Object(s["e"])("top-right")},B=Object(c["defineComponent"])({name:k,props:z,emits:["scale","close","closed","change","update:show"],setup(e,t){var{emit:a,slots:o}=t,r=Object(c["ref"])(),n=Object(m["o"])(),l=Object(c["reactive"])({active:0,rootWidth:0,rootHeight:0}),s=()=>{if(r.value){var e=Object(m["m"])(r.value.$el);l.rootWidth=e.width,l.rootHeight=e.height,r.value.resize()}},O=e=>a("scale",e),j=e=>a("update:show",e),g=()=>{Object(d["a"])(e.beforeClose,{args:[l.active],done:()=>j(!1)})},h=e=>{e!==l.active&&(l.active=e,a("change",e))},w=()=>{if(e.showIndex)return Object(c["createVNode"])("div",{class:C("index")},[o.index?o.index({index:l.active}):l.active+1+" / "+e.images.length])},y=()=>{if(o.cover)return Object(c["createVNode"])("div",{class:C("cover")},[o.cover()])},V=()=>Object(c["createVNode"])(p["a"],{ref:r,lazyRender:!0,loop:e.loop,class:C("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:h},{default:()=>[e.images.map(t=>Object(c["createVNode"])(N,{src:t,show:e.show,active:l.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:l.rootWidth,rootHeight:l.rootHeight,onScale:O,onClose:g},null))]}),x=()=>{if(e.closeable)return Object(c["createVNode"])(v["a"],{role:"button",name:e.closeIcon,class:[C("close-icon",e.closeIconPosition),u["g"]],onClick:g},null)},k=()=>a("closed"),z=(e,t)=>{var a;return null==(a=r.value)?void 0:a.swipeTo(e,t)};return Object(b["a"])({swipeTo:z}),Object(c["onMounted"])(s),Object(c["watch"])([n.width,n.height],s),Object(c["watch"])(()=>e.startPosition,e=>h(+e)),Object(c["watch"])(()=>e.show,t=>{var{images:o,startPosition:i}=e;t?(h(+i),Object(c["nextTick"])(()=>{s(),z(+i,{immediate:!0})})):a("close",{index:l.active,url:o[l.active]})}),()=>Object(c["createVNode"])(f["a"],Object(c["mergeProps"])({class:[C(),e.className],overlayClass:C("overlay"),onClosed:k,"onUpdate:show":j},Object(i["e"])(e,S)),{default:()=>[x(),V(),w(),y()]})}}),I={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function R(){({instance:o}=Object(n["a"])({setup(){var{state:e,toggle:t}=Object(n["b"])(),a=()=>{e.images=[]};return()=>Object(c["createVNode"])(B,Object(c["mergeProps"])(e,{onClosed:a,"onUpdate:show":t}),null)}}))}var T=function(e,t){if(void 0===t&&(t=0),i["c"])return o||R(),e=Array.isArray(e)?{images:e,startPosition:t}:e,o.open(Object(i["a"])({},I,e)),o};T.Component=Object(r["a"])(B),T.install=e=>{e.use(T.Component)}},"511e":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"f",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return u}));var o=a("9ab4"),c=a("b32d"),i=a("4763"),r=function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){var t;return Object(o["c"])(this,(function(a){switch(a.label){case 0:return[4,Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/edit/details/"+e,method:"get"})];case 1:return t=a.sent(),[2,t.result]}}))}))};function n(e){return Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/save",method:"POST",data:e})}function l(e){return Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/solve",method:"POST",data:e})}var s=function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){var t;return Object(o["c"])(this,(function(a){switch(a.label){case 0:return[4,Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/space/"+e,method:"get"})];case 1:return t=a.sent(),[2,t.result]}}))}))},d=function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){var t;return Object(o["c"])(this,(function(a){switch(a.label){case 0:return[4,Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/details/"+e,method:"get"})];case 1:return t=a.sent(),[2,t.result]}}))}))},u=function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){var t;return Object(o["c"])(this,(function(a){switch(a.label){case 0:return[4,Object(c["a"])({url:i["b"]+"/sampleRoom/api/withdrawal/agree/"+e,method:"POST"})];case 1:return t=a.sent(),[2,t.result]}}))}))}},"530f":function(e,t,a){"use strict";a("2890")},"5de2":function(e,t,a){"use strict";a("8eca")},"8eca":function(e,t,a){},9793:function(e,t,a){"use strict";var o=a("9ab4"),c=a("7a23"),i=a("c199"),r=a("f691"),n=a("8da3"),l=a("f344"),s=a("8405"),d=a("fe7e"),[u,m]=Object(d["a"])("uploader"),b=e=>Array.isArray(e)?e:[e];function v(e,t){return new Promise(a=>{if("file"!==t){var o=new FileReader;o.onload=e=>{a(e.target.result)},"dataUrl"===t?o.readAsDataURL(e):"text"===t&&o.readAsText(e)}else a()})}function p(e,t){return b(e).some(e=>!!e.file&&(Object(n["b"])(t)?t(e.file):e.file.size>t))}function f(e,t){var a=[],o=[];return e.forEach(e=>{p(e,t)?o.push(e):a.push(e)}),{valid:a,invalid:o}}var O=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,j=e=>O.test(e);function g(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?j(e.url):"string"===typeof e.content&&0===e.content.indexOf("data:image"))}var h=a("37b2"),w=a("4eda"),y=a("ad06"),V=a("482f"),x=a("7e3e"),N=a("44bf"),k=a("543e"),C=Object(c["defineComponent"])({props:{name:r["f"],item:Object(r["d"])(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:r["f"],beforeDelete:Function},emits:["delete","preview"],setup(e,t){var{emit:a,slots:o}=t,i=()=>{var{status:t,message:a}=e.item;if("uploading"===t||"failed"===t){var o="failed"===t?Object(c["createVNode"])(y["a"],{name:"close",class:m("mask-icon")},null):Object(c["createVNode"])(k["a"],{class:m("loading")},null),i=Object(n["a"])(a)&&""!==a;return Object(c["createVNode"])("div",{class:m("mask")},[o,i&&Object(c["createVNode"])("div",{class:m("mask-message")},[a])])}},r=t=>{var{name:o,item:c,index:i,beforeDelete:r}=e;t.stopPropagation(),Object(x["a"])(r,{args:[c,{name:o,index:i}],done:()=>a("delete")})},d=()=>a("preview"),u=()=>{if(e.deletable&&"uploading"!==e.item.status)return Object(c["createVNode"])("div",{class:m("preview-delete"),onClick:r},[Object(c["createVNode"])(y["a"],{name:"cross",class:m("preview-delete-icon")},null)])},b=()=>{if(o["preview-cover"]){var{index:t,item:a}=e;return Object(c["createVNode"])("div",{class:m("preview-cover")},[o["preview-cover"](Object(l["a"])({index:t},a))])}},v=()=>{var{item:t}=e;return g(t)?Object(c["createVNode"])(N["a"],{fit:e.imageFit,src:t.content||t.url,class:m("preview-image"),width:e.previewSize,height:e.previewSize,lazyLoad:e.lazyLoad,onClick:d},{default:b}):Object(c["createVNode"])("div",{class:m("file"),style:Object(s["e"])(e.previewSize)},[Object(c["createVNode"])(y["a"],{class:m("file-icon"),name:"description"},null),Object(c["createVNode"])("div",{class:[m("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),b()])};return()=>Object(c["createVNode"])("div",{class:m("preview")},[v(),i(),u()])}}),S={name:Object(r["c"])(""),accept:Object(r["e"])("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:Object(r["c"])(1/0),imageFit:Object(r["e"])("cover"),resultType:Object(r["e"])("dataUrl"),uploadIcon:Object(r["e"])("photograph"),uploadText:String,deletable:r["g"],afterRead:Function,showUpload:r["g"],modelValue:Object(r["a"])(),beforeRead:Function,beforeDelete:Function,previewSize:r["f"],previewImage:r["g"],previewOptions:Object,previewFullImage:r["g"],maxSize:{type:[Number,String,Function],default:1/0}},z=Object(c["defineComponent"])({name:u,props:S,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,t){var a,{emit:o,slots:i}=t,r=Object(c["ref"])(),d=function(t){return void 0===t&&(t=e.modelValue.length),{name:e.name,index:t}},u=()=>{r.value&&(r.value.value="")},O=t=>{if(u(),p(t,e.maxSize)){if(!Array.isArray(t))return void o("oversize",t,d());var a=f(t,e.maxSize);if(t=a.valid,o("oversize",a.invalid,d()),!t.length)return}t=Object(c["reactive"])(t),o("update:modelValue",[...e.modelValue,...b(t)]),e.afterRead&&e.afterRead(t,d())},j=t=>{var{maxCount:a,modelValue:o,resultType:c}=e;if(Array.isArray(t)){var i=+a-o.length;t.length>i&&(t=t.slice(0,i)),Promise.all(t.map(e=>v(e,c))).then(e=>{var a=t.map((t,a)=>{var o={file:t,status:"",message:""};return e[a]&&(o.content=e[a]),o});O(a)})}else v(t,c).then(e=>{var a={file:t,status:"",message:""};e&&(a.content=e),O(a)})},x=t=>{var{files:a}=t.target;if(!e.disabled&&a&&a.length){var o=1===a.length?a[0]:[].slice.call(a);if(e.beforeRead){var c=e.beforeRead(o,d());if(!c)return void u();if(Object(n["f"])(c))return void c.then(e=>{j(e||o)}).catch(u)}j(o)}},N=()=>o("close-preview"),k=t=>{if(e.previewFullImage){var o=e.modelValue.filter(g),c=o.map(e=>e.content||e.url).filter(Boolean);a=Object(V["a"])(Object(l["a"])({images:c,startPosition:o.indexOf(t),onClose:N},e.previewOptions))}},S=()=>{a&&a.close()},z=(t,a)=>{var c=e.modelValue.slice(0);c.splice(a,1),o("update:modelValue",c),o("delete",t,d(a))},B=(t,a)=>{var r=["imageFit","deletable","previewSize","beforeDelete"],n=Object(l["a"])(Object(l["e"])(e,r),Object(l["e"])(t,r,!0));return Object(c["createVNode"])(C,Object(c["mergeProps"])({item:t,index:a,onClick:()=>o("click-preview",t,d(a)),onDelete:()=>z(t,a),onPreview:()=>k(t)},Object(l["e"])(e,["name","lazyLoad"]),n),{"preview-cover":i["preview-cover"]})},I=()=>{if(e.previewImage)return e.modelValue.map(B)},R=e=>o("click-upload",e),T=()=>{if(!(e.modelValue.length>=e.maxCount)&&e.showUpload){var t=e.readonly?null:Object(c["createVNode"])("input",{ref:r,type:"file",class:m("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:x},null);return i.default?Object(c["createVNode"])("div",{class:m("input-wrapper"),onClick:R},[i.default(),t]):Object(c["createVNode"])("div",{class:m("upload",{readonly:e.readonly}),style:Object(s["e"])(e.previewSize),onClick:R},[Object(c["createVNode"])(y["a"],{name:e.uploadIcon,class:m("upload-icon")},null),e.uploadText&&Object(c["createVNode"])("span",{class:m("upload-text")},[e.uploadText]),t])}},P=()=>{r.value&&!e.disabled&&r.value.click()};return Object(w["a"])({chooseFile:P,closeImagePreview:S}),Object(h["i"])(()=>e.modelValue),()=>Object(c["createVNode"])("div",{class:m()},[Object(c["createVNode"])("div",{class:m("wrapper",{disabled:e.disabled})},[I(),T()])])}}),B=Object(i["a"])(z),I=a("c260");Object(c["pushScopeId"])("data-v-d7dd1482");var R={class:"list"},T={class:"base uplaod"},P=Object(c["createTextVNode"])("上传中...");Object(c["popScopeId"])();var A=Object(c["defineComponent"])({props:{modelValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},limit:{type:Number,default:6}},emits:["update:modelValue"],setup:function(e,t){var a=this,i=t.emit,r=e,n=Object(c["ref"])(!1),l=function(e){Object(V["a"])(r.modelValue,e)},s=function(e,t){return Object(o["b"])(a,void 0,void 0,(function(){var a,c,l,s;return Object(o["c"])(this,(function(d){switch(d.label){case 0:return a=new FormData,Array.isArray(e)||a.append("file",e.file),n.value=!0,[4,Object(I["f"])(a)];case 1:return c=d.sent(),n.value=!1,l=Object(o["d"])(Object(o["d"])([],r.modelValue),[null===(s=null===c||void 0===c?void 0:c.data)||void 0===s?void 0:s.result]),console.log(l),i("update:modelValue",l),console.log(c,t),[2]}}))}))},d=function(e){var t=Object(o["d"])([],r.modelValue);t.splice(e,1),i("update:modelValue",t)};return function(t,a){var o=Object(c["resolveComponent"])("van-image"),i=Object(c["resolveComponent"])("van-icon");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("div",R,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.modelValue,(function(t,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:"image-list"},[Object(c["createVNode"])(o,{src:t,class:"base",onClick:function(e){return l(a)}},null,8,["src","onClick"]),e.disabled?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,name:"clear",class:"clear",size:"20",color:"#5D8AA3",onClick:function(e){return d(a)}},null,8,["onClick"]))])})),128)),r.modelValue.length<e.limit?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(B),{key:0,"after-read":s,disabled:n.value||e.disabled},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",T,[n.value?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(k["a"]),{key:1,vertical:""},{default:Object(c["withCtx"])((function(){return[P]})),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,name:"plus",color:"#5D8AA3",class:"icon"}))])]})),_:1},8,["disabled"])):Object(c["createCommentVNode"])("",!0)])])}}}),F=(a("530f"),a("6b0d")),D=a.n(F);const E=D()(A,[["__scopeId","data-v-d7dd1482"]]);t["a"]=E},af02:function(e,t,a){e.exports=a.p+"img/radio-iconchecked.6854747e.svg"},c260:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return m}));var o=a("4763"),c=a("b32d"),i=a("bc3a"),r=a.n(i),n=function(){return Object(c["a"])({url:o["b"]+"/region/province",method:"GET"})},l=function(e){return Object(c["a"])({url:o["b"]+"/region/city",method:"GET",params:{province:e}})},s=function(e){return Object(c["a"])({url:o["b"]+"/resource/project",method:"GET",params:{city:e}})},d=function(e){return Object(c["a"])({url:o["b"]+"/resource/building",method:"GET",params:{project:e}})},u=function(e){return Object(c["a"])({url:o["b"]+"/resource/house",method:"GET",params:{building:e}})},m=function(e){return r.a.create({timeout:6e4,headers:{"Content-Type":"multipart/form-data;"}}).post(""+o["c"],e)}},dd03:function(e,t,a){"use strict";var o=a("7a23"),c=Object(o["defineComponent"])({props:{bgColor:{type:String,default:"#f9f9f9"},height:{type:String,default:"19vw"}},setup:function(e){return function(t,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",{class:"handler save-area",style:Object(o["normalizeStyle"])("background: "+e.bgColor+";height: "+e.height)},null,4),Object(o["createElementVNode"])("div",{class:"bar save-area",style:Object(o["normalizeStyle"])("height: "+e.height)},[Object(o["renderSlot"])(t.$slots,"content")],4)],64)}}}),i=(a("5de2"),a("6b0d")),r=a.n(i);const n=r()(c,[["__scopeId","data-v-f7cfe444"]]);t["a"]=n}}]);
//# sourceMappingURL=SampleRoomCloseHandle~SampleRoomCloseRoom.4412c65a.js.map