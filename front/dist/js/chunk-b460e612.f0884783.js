(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b460e612"],{"1b59":function(e,t,n){},"3fdf":function(e,t,n){},"4df4":function(e,t,n){"use strict";var r=n("0366"),o=n("7b0b"),c=n("9bdd"),u=n("e95a"),i=n("50c4"),d=n("8418"),a=n("35a1");e.exports=function(e){var t,n,f,s,l,m,p=o(e),v="function"==typeof this?this:Array,b=arguments.length,h=b>1?arguments[1]:void 0,j=void 0!==h,O=a(p),g=0;if(j&&(h=r(h,b>2?arguments[2]:void 0,2)),void 0==O||v==Array&&u(O))for(t=i(p.length),n=new v(t);t>g;g++)m=j?h(p[g],g):p[g],d(n,g,m);else for(s=O.call(p),l=s.next,n=new v;!(f=l.call(s)).done;g++)m=j?c(s,h,[f.value,g],!0):f.value,d(n,g,m);return n.length=g,n}},"5f3e":function(e,t,n){"use strict";n("1b59")},6062:function(e,t,n){"use strict";var r=n("6d61"),o=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},"7bbe":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var r=n("8afd");Object.prototype.toString;function o(e,t){function n(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return n}function c(e){let t;const n=n=>{const o=Object(r["unref"])(e);if(t&&clearTimeout(t),o<=0)return n();t=setTimeout(n,o)};return n}function u(e,t=!0){let n,o=0;const c=()=>{n&&(clearTimeout(n),n=void 0)},u=u=>{const i=Object(r["unref"])(e),d=Date.now()-o;if(c(),i<=0)return o=Date.now(),u();d>i?(o=Date.now(),u()):t&&(n=setTimeout(()=>{c(),u()},i))};return u}function i(e,t=200){return o(c(t),e)}function d(e,t=200,n=!0){return o(u(t,n),e)}},8037:function(e,t,n){"use strict";n("3fdf")},"87a7":function(e,t,n){e.exports=n.p+"img/supplier.22ad3db7.svg"},"8afd":function(e,t,n){"use strict";n.r(t),n.d(t,"set",(function(){return d})),n.d(t,"del",(function(){return a})),n.d(t,"Vue2",(function(){return u})),n.d(t,"isVue2",(function(){return o})),n.d(t,"isVue3",(function(){return c})),n.d(t,"install",(function(){return i}));var r=n("7a23");n.d(t,"Vue",(function(){return r})),n.d(t,"EffectScope",(function(){return r["EffectScope"]})),n.d(t,"ReactiveEffect",(function(){return r["ReactiveEffect"]})),n.d(t,"computed",(function(){return r["computed"]})),n.d(t,"customRef",(function(){return r["customRef"]})),n.d(t,"effect",(function(){return r["effect"]})),n.d(t,"effectScope",(function(){return r["effectScope"]})),n.d(t,"getCurrentScope",(function(){return r["getCurrentScope"]})),n.d(t,"isProxy",(function(){return r["isProxy"]})),n.d(t,"isReactive",(function(){return r["isReactive"]})),n.d(t,"isReadonly",(function(){return r["isReadonly"]})),n.d(t,"isRef",(function(){return r["isRef"]})),n.d(t,"markRaw",(function(){return r["markRaw"]})),n.d(t,"onScopeDispose",(function(){return r["onScopeDispose"]})),n.d(t,"proxyRefs",(function(){return r["proxyRefs"]})),n.d(t,"reactive",(function(){return r["reactive"]})),n.d(t,"readonly",(function(){return r["readonly"]})),n.d(t,"ref",(function(){return r["ref"]})),n.d(t,"shallowReactive",(function(){return r["shallowReactive"]})),n.d(t,"shallowReadonly",(function(){return r["shallowReadonly"]})),n.d(t,"shallowRef",(function(){return r["shallowRef"]})),n.d(t,"stop",(function(){return r["stop"]})),n.d(t,"toRaw",(function(){return r["toRaw"]})),n.d(t,"toRef",(function(){return r["toRef"]})),n.d(t,"toRefs",(function(){return r["toRefs"]})),n.d(t,"triggerRef",(function(){return r["triggerRef"]})),n.d(t,"unref",(function(){return r["unref"]})),n.d(t,"camelize",(function(){return r["camelize"]})),n.d(t,"capitalize",(function(){return r["capitalize"]})),n.d(t,"normalizeClass",(function(){return r["normalizeClass"]})),n.d(t,"normalizeProps",(function(){return r["normalizeProps"]})),n.d(t,"normalizeStyle",(function(){return r["normalizeStyle"]})),n.d(t,"toDisplayString",(function(){return r["toDisplayString"]})),n.d(t,"toHandlerKey",(function(){return r["toHandlerKey"]})),n.d(t,"$computed",(function(){return r["$computed"]})),n.d(t,"$fromRefs",(function(){return r["$fromRefs"]})),n.d(t,"$raw",(function(){return r["$raw"]})),n.d(t,"$ref",(function(){return r["$ref"]})),n.d(t,"$shallowRef",(function(){return r["$shallowRef"]})),n.d(t,"BaseTransition",(function(){return r["BaseTransition"]})),n.d(t,"Comment",(function(){return r["Comment"]})),n.d(t,"Fragment",(function(){return r["Fragment"]})),n.d(t,"KeepAlive",(function(){return r["KeepAlive"]})),n.d(t,"Static",(function(){return r["Static"]})),n.d(t,"Suspense",(function(){return r["Suspense"]})),n.d(t,"Teleport",(function(){return r["Teleport"]})),n.d(t,"Text",(function(){return r["Text"]})),n.d(t,"callWithAsyncErrorHandling",(function(){return r["callWithAsyncErrorHandling"]})),n.d(t,"callWithErrorHandling",(function(){return r["callWithErrorHandling"]})),n.d(t,"cloneVNode",(function(){return r["cloneVNode"]})),n.d(t,"compatUtils",(function(){return r["compatUtils"]})),n.d(t,"createBlock",(function(){return r["createBlock"]})),n.d(t,"createCommentVNode",(function(){return r["createCommentVNode"]})),n.d(t,"createElementBlock",(function(){return r["createElementBlock"]})),n.d(t,"createElementVNode",(function(){return r["createElementVNode"]})),n.d(t,"createHydrationRenderer",(function(){return r["createHydrationRenderer"]})),n.d(t,"createRenderer",(function(){return r["createRenderer"]})),n.d(t,"createSlots",(function(){return r["createSlots"]})),n.d(t,"createStaticVNode",(function(){return r["createStaticVNode"]})),n.d(t,"createTextVNode",(function(){return r["createTextVNode"]})),n.d(t,"createVNode",(function(){return r["createVNode"]})),n.d(t,"defineAsyncComponent",(function(){return r["defineAsyncComponent"]})),n.d(t,"defineComponent",(function(){return r["defineComponent"]})),n.d(t,"defineEmits",(function(){return r["defineEmits"]})),n.d(t,"defineExpose",(function(){return r["defineExpose"]})),n.d(t,"defineProps",(function(){return r["defineProps"]})),n.d(t,"devtools",(function(){return r["devtools"]})),n.d(t,"getCurrentInstance",(function(){return r["getCurrentInstance"]})),n.d(t,"getTransitionRawChildren",(function(){return r["getTransitionRawChildren"]})),n.d(t,"guardReactiveProps",(function(){return r["guardReactiveProps"]})),n.d(t,"h",(function(){return r["h"]})),n.d(t,"handleError",(function(){return r["handleError"]})),n.d(t,"initCustomFormatter",(function(){return r["initCustomFormatter"]})),n.d(t,"inject",(function(){return r["inject"]})),n.d(t,"isMemoSame",(function(){return r["isMemoSame"]})),n.d(t,"isRuntimeOnly",(function(){return r["isRuntimeOnly"]})),n.d(t,"isVNode",(function(){return r["isVNode"]})),n.d(t,"mergeDefaults",(function(){return r["mergeDefaults"]})),n.d(t,"mergeProps",(function(){return r["mergeProps"]})),n.d(t,"nextTick",(function(){return r["nextTick"]})),n.d(t,"onActivated",(function(){return r["onActivated"]})),n.d(t,"onBeforeMount",(function(){return r["onBeforeMount"]})),n.d(t,"onBeforeUnmount",(function(){return r["onBeforeUnmount"]})),n.d(t,"onBeforeUpdate",(function(){return r["onBeforeUpdate"]})),n.d(t,"onDeactivated",(function(){return r["onDeactivated"]})),n.d(t,"onErrorCaptured",(function(){return r["onErrorCaptured"]})),n.d(t,"onMounted",(function(){return r["onMounted"]})),n.d(t,"onRenderTracked",(function(){return r["onRenderTracked"]})),n.d(t,"onRenderTriggered",(function(){return r["onRenderTriggered"]})),n.d(t,"onServerPrefetch",(function(){return r["onServerPrefetch"]})),n.d(t,"onUnmounted",(function(){return r["onUnmounted"]})),n.d(t,"onUpdated",(function(){return r["onUpdated"]})),n.d(t,"openBlock",(function(){return r["openBlock"]})),n.d(t,"popScopeId",(function(){return r["popScopeId"]})),n.d(t,"provide",(function(){return r["provide"]})),n.d(t,"pushScopeId",(function(){return r["pushScopeId"]})),n.d(t,"queuePostFlushCb",(function(){return r["queuePostFlushCb"]})),n.d(t,"registerRuntimeCompiler",(function(){return r["registerRuntimeCompiler"]})),n.d(t,"renderList",(function(){return r["renderList"]})),n.d(t,"renderSlot",(function(){return r["renderSlot"]})),n.d(t,"resolveComponent",(function(){return r["resolveComponent"]})),n.d(t,"resolveDirective",(function(){return r["resolveDirective"]})),n.d(t,"resolveDynamicComponent",(function(){return r["resolveDynamicComponent"]})),n.d(t,"resolveFilter",(function(){return r["resolveFilter"]})),n.d(t,"resolveTransitionHooks",(function(){return r["resolveTransitionHooks"]})),n.d(t,"setBlockTracking",(function(){return r["setBlockTracking"]})),n.d(t,"setDevtoolsHook",(function(){return r["setDevtoolsHook"]})),n.d(t,"setTransitionHooks",(function(){return r["setTransitionHooks"]})),n.d(t,"ssrContextKey",(function(){return r["ssrContextKey"]})),n.d(t,"ssrUtils",(function(){return r["ssrUtils"]})),n.d(t,"toHandlers",(function(){return r["toHandlers"]})),n.d(t,"transformVNodeArgs",(function(){return r["transformVNodeArgs"]})),n.d(t,"useAttrs",(function(){return r["useAttrs"]})),n.d(t,"useSSRContext",(function(){return r["useSSRContext"]})),n.d(t,"useSlots",(function(){return r["useSlots"]})),n.d(t,"useTransitionState",(function(){return r["useTransitionState"]})),n.d(t,"version",(function(){return r["version"]})),n.d(t,"warn",(function(){return r["warn"]})),n.d(t,"watch",(function(){return r["watch"]})),n.d(t,"watchEffect",(function(){return r["watchEffect"]})),n.d(t,"watchPostEffect",(function(){return r["watchPostEffect"]})),n.d(t,"watchSyncEffect",(function(){return r["watchSyncEffect"]})),n.d(t,"withAsyncContext",(function(){return r["withAsyncContext"]})),n.d(t,"withCtx",(function(){return r["withCtx"]})),n.d(t,"withDefaults",(function(){return r["withDefaults"]})),n.d(t,"withDirectives",(function(){return r["withDirectives"]})),n.d(t,"withMemo",(function(){return r["withMemo"]})),n.d(t,"withScopeId",(function(){return r["withScopeId"]})),n.d(t,"Transition",(function(){return r["Transition"]})),n.d(t,"TransitionGroup",(function(){return r["TransitionGroup"]})),n.d(t,"VueElement",(function(){return r["VueElement"]})),n.d(t,"createApp",(function(){return r["createApp"]})),n.d(t,"createSSRApp",(function(){return r["createSSRApp"]})),n.d(t,"defineCustomElement",(function(){return r["defineCustomElement"]})),n.d(t,"defineSSRCustomElement",(function(){return r["defineSSRCustomElement"]})),n.d(t,"hydrate",(function(){return r["hydrate"]})),n.d(t,"render",(function(){return r["render"]})),n.d(t,"useCssModule",(function(){return r["useCssModule"]})),n.d(t,"useCssVars",(function(){return r["useCssVars"]})),n.d(t,"vModelCheckbox",(function(){return r["vModelCheckbox"]})),n.d(t,"vModelDynamic",(function(){return r["vModelDynamic"]})),n.d(t,"vModelRadio",(function(){return r["vModelRadio"]})),n.d(t,"vModelSelect",(function(){return r["vModelSelect"]})),n.d(t,"vModelText",(function(){return r["vModelText"]})),n.d(t,"vShow",(function(){return r["vShow"]})),n.d(t,"withKeys",(function(){return r["withKeys"]})),n.d(t,"withModifiers",(function(){return r["withModifiers"]})),n.d(t,"compile",(function(){return r["compile"]}));var o=!1,c=!0,u=void 0;function i(){}function d(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function a(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}},"9bdd":function(e,t,n){var r=n("825a"),o=n("2a62");e.exports=function(e,t,n,c){try{return c?t(r(n)[0],n[1]):t(n)}catch(u){throw o(e),u}}},"9e86":function(e,t,n){"use strict";n.r(t);n("d81d"),n("a15b"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0");var r=n("9ab4"),o=n("7a23"),c=n("6c02"),u=n("75e6"),i=n("626a"),d=n("fab1"),a=n("7bbe"),f=n("ebef"),s=n("ba24");Object(o["pushScopeId"])("data-v-7947c928");var l={class:"order-list"},m={class:"top-fix"},p={key:0,class:"warn"},v=Object(o["createElementVNode"])("span",null,"该订单已被线索关联",-1);Object(o["popScopeId"])();var b=Object(o["defineComponent"])({setup:function(e){var t=this,n=Object(o["ref"])([]),b=Object(o["ref"])(!1),h=Object(o["ref"])(!1),j=Object(o["ref"])(""),O=Object(c["d"])(),g=O.query.referralId;console.log(g);var y=Object(o["ref"])(1),S=function(){return Object(r["b"])(t,void 0,void 0,(function(){var e,t;return Object(r["c"])(this,(function(o){switch(o.label){case 0:return h.value=!0,[4,Object(f["i"])({referralId:g,mobile:j.value,page:y.value,pageSize:10})];case 1:return e=o.sent(),t=e.records.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{category:Array.from(new Set(e.categoryList.map((function(e){return e.categoryName})))).join(",")})})),n.value=1===y.value?t:Object(r["d"])(Object(r["d"])([],n.value),t),h.value=!1,b.value=!(y.value<e.pages),[2]}}))}))},w=function(){y.value++,S()},C=Object(a["a"])((function(){j.value.length||(n.value=[]),11===j.value.length&&(y.value=1,S())}),300);j.value=O.query.mobile,j.value&&C();var R=O.query.source,k=function(e,n){return Object(r["b"])(t,void 0,void 0,(function(){var t=this;return Object(r["c"])(this,(function(o){return u["a"].confirm({message:"是否关联订单到当前客户？"+("1"===R?"":"关联后，线索将在24小时后关闭，不可跟进。"),confirmButtonText:"确定",closeOnClickOverlay:!0,className:"del-confirm-dialog"}).then((function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,Object(f["w"])({orderNo:n,referralId:g})];case 1:return t.sent(),e.bindedReferral=!0,i["a"].success({message:"关联成功",duration:2e3}),[2]}}))}))})).catch((function(){})),[2]}))}))};return function(e,t){var r=Object(o["resolveComponent"])("van-search"),c=Object(o["resolveComponent"])("mj-button"),u=Object(o["resolveComponent"])("van-list");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("div",m,[Object(o["createVNode"])(r,{modelValue:j.value,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return j.value=e}),Object(o["unref"])(C)],modelModifiers:{trim:!0},maxlength:"11",type:"number",placeholder:"通过客户手机号搜索"},null,8,["modelValue","onUpdate:modelValue"])]),n.value.length?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,loading:h.value,"onUpdate:loading":t[1]||(t[1]=function(e){return h.value=e}),finished:b.value,"finished-text":"没有更多了","immediate-check":!1,onLoad:w},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.value,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s["a"],{key:e.orderCode,item:e},{default:Object(o["withCtx"])((function(){return[e.bindedReferral?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[v,Object(o["createVNode"])(c,{text:"去关联",color:"grey"})])):8!==e.orderStatus?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,text:"去关联",color:"green",onClick:function(t){return k(e,e.orderCode)}},null,8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:2,text:"去关联",color:"grey"}))]})),_:2},1032,["item"])})),128))]})),_:1},8,["loading","finished"])):(Object(o["openBlock"])(),Object(o["createBlock"])(d["a"],{key:1,text:"暂无订单",background:"#f8f8f8"}))])}}});n("8037");b.__scopeId="data-v-7947c928";t["default"]=b},a630:function(e,t,n){var r=n("23e7"),o=n("4df4"),c=n("1c7e"),u=!c((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:u},{from:o})},ba24:function(e,t,n){"use strict";var r=n("7a23"),o=n("3d1b");Object(r["pushScopeId"])("data-v-500f241d");var c={class:"order-card"},u={class:"card-title"},i=["src"],d={class:"name"},a={class:"price"},f={class:"card-detail"},s={class:"detail-item"},l=Object(r["createElementVNode"])("span",{class:"item-label"},"商品类目：",-1),m={class:"item-val"},p={class:"detail-item"},v=Object(r["createElementVNode"])("span",{class:"item-label"},"订单状态：",-1),b={class:"item-val"},h={class:"detail-item"},j=Object(r["createElementVNode"])("span",{class:"item-label"},"下单时间：",-1),O={class:"item-val"},g={class:"card-btns"};Object(r["popScopeId"])();var y=Object(r["defineComponent"])({props:{item:{type:Object,required:!0}},setup:function(e){return function(t,y){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createElementVNode"])("div",u,[Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("img",{src:n("87a7")},null,8,i),Object(r["createElementVNode"])("span",d,Object(r["toDisplayString"])(e.item.supplierName),1)]),Object(r["createElementVNode"])("span",a,Object(r["toDisplayString"])("￥"+(e.item.totalAmount||"")),1)]),Object(r["createElementVNode"])("div",f,[Object(r["createElementVNode"])("div",s,[l,Object(r["createElementVNode"])("span",m,Object(r["toDisplayString"])(e.item.category),1)]),Object(r["createElementVNode"])("div",p,[v,Object(r["createElementVNode"])("span",b,Object(r["toDisplayString"])(Object(r["unref"])(o["c"])[+e.item.orderStatus]),1)]),Object(r["createElementVNode"])("div",h,[j,Object(r["createElementVNode"])("span",O,Object(r["toDisplayString"])(e.item.createdTime),1)])]),Object(r["createElementVNode"])("div",g,[Object(r["renderSlot"])(t.$slots,"default")])])}}});n("5f3e");y.__scopeId="data-v-500f241d";t["a"]=y}}]);
//# sourceMappingURL=chunk-b460e612.f0884783.js.map